import{_ as i,c as s,o as e,aj as n}from"./chunks/framework.DPdjieCD.js";const c=JSON.parse('{"title":"Multilingual","description":"","frontmatter":{},"headers":[],"relativePath":"en/utils/modules/i18n.md","filePath":"en/utils/modules/i18n.md"}'),t={name:"en/utils/modules/i18n.md"};function l(h,a,o,p,r,d){return e(),s("div",null,[...a[0]||(a[0]=[n(`<h1 id="multilingual" tabindex="-1">Multilingual <a class="header-anchor" href="#multilingual" aria-label="Permalink to &quot;Multilingual&quot;">​</a></h1><p>The <strong>Multilingual module</strong> provides capabilities for system locale detection, locking, and runtime language pack management. It serves as the underlying logic support that enables <code>@techui/locales</code> to function automatically.</p><h2 id="import-method" tabindex="-1">Import Method <a class="header-anchor" href="#import-method" aria-label="Permalink to &quot;Import Method&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { initLang, lockLang, tLang } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="initialization-and-locking" tabindex="-1">Initialization and Locking <a class="header-anchor" href="#initialization-and-locking" aria-label="Permalink to &quot;Initialization and Locking&quot;">​</a></h2><h3 id="initlang-val" tabindex="-1">initLang(val) <a class="header-anchor" href="#initlang-val" aria-label="Permalink to &quot;initLang(val)&quot;">​</a></h3><p>Initializes or retrieves the current system language.</p><ul><li><strong>Automatic Mode</strong> (when <code>val</code> is empty): Priority is given to checking if a language is already locked in session storage. If not locked, it automatically detects the browser environment via the <code>Intl</code> API or <code>navigator.language</code> and normalizes it into standard codes such as <code>cn</code> (Simplified Chinese), <code>hk</code> (Traditional Chinese/Hong Kong), or <code>en</code> (English).</li><li><strong>Manual Mode</strong> (when <code>val</code> has a value): Forcefully sets and locks the current language, which is equivalent to calling <code>lockLang(val)</code>.</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Automatic detection and initialization</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> browserLang</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> initLang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Force initialization to English</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">initLang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="locklang-lang" tabindex="-1">lockLang(lang) <a class="header-anchor" href="#locklang-lang" aria-label="Permalink to &quot;lockLang(lang)&quot;">​</a></h3><p>Locks the language preference.</p><p>This writes the target language code into <code>SessionStorage</code> and marks <code>sysLangLock</code> as <code>true</code>. This ensures that the user&#39;s selection maintains the highest priority even if the page is refreshed or the browser&#39;s language settings change.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Called when a user clicks to switch languages</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lockLang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;jp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="resource-management" tabindex="-1">Resource Management <a class="header-anchor" href="#resource-management" aria-label="Permalink to &quot;Resource Management&quot;">​</a></h2><p><strong>tLang</strong> is a singleton instance of the <code>I18nManager</code> class, responsible for temporarily storing and managing currently loaded language data in memory.</p><h3 id="tlang-register-config" tabindex="-1">tLang.register(config) <a class="header-anchor" href="#tlang-register-config" aria-label="Permalink to &quot;tLang.register(config)&quot;">​</a></h3><p>Registers a language pack. This is typically called automatically by various language pack files in <code>@techui/locales</code> when they are imported.</p><ul><li><strong>config</strong>: A configuration object containing <code>value</code> (language identifier) and <code>data</code> (translation data).</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tLang.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cn&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    welcome: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Welcome&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    start: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Start&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="tlang-getdata" tabindex="-1">tLang.getData() <a class="header-anchor" href="#tlang-getdata" aria-label="Permalink to &quot;tLang.getData()&quot;">​</a></h3><p>Retrieves the language translation data object currently registered in memory.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> messages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tLang.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(messages.welcome); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;Welcome&quot;</span></span></code></pre></div><h3 id="tlang-getvalue" tabindex="-1">tLang.getValue() <a class="header-anchor" href="#tlang-getvalue" aria-label="Permalink to &quot;tLang.getValue()&quot;">​</a></h3><p>Retrieves the currently registered language code identifier (e.g., <code>cn</code>, <code>en</code>).</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> currentCode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tLang.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="tlang-haslang" tabindex="-1">tLang.hasLang() <a class="header-anchor" href="#tlang-haslang" aria-label="Permalink to &quot;tLang.hasLang()&quot;">​</a></h3><p>Checks whether valid language data already exists in memory. This is commonly used to determine if a network request is needed to dynamically load a language pack.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tLang.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasLang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Execute dynamic loading logic...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,28)])])}const k=i(t,[["render",l]]);export{c as __pageData,k as default};
