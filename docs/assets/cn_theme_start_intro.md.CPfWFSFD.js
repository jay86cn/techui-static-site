import{_ as s,o as n,c as e,ah as t}from"./chunks/framework.PKn7PQPU.js";const u=JSON.parse('{"title":"主题概览","description":"","frontmatter":{},"headers":[],"relativePath":"cn/theme/start/intro.md","filePath":"cn/theme/start/intro.md"}'),o={name:"cn/theme/start/intro.md"};function r(p,a,l,i,c,d){return n(),e("div",null,[...a[0]||(a[0]=[t(`<h1 id="主题概览" tabindex="-1">主题概览 <a class="header-anchor" href="#主题概览" aria-label="Permalink to &quot;主题概览&quot;">​</a></h1><p>TechUI 的主题系统采用 <strong>“数据驱动”</strong> 的设计模式。与传统的仅依赖 CSS 预处理器（Less/Sass）变量的主题方案不同，TechUI 将主题定义为一份标准的 JavaScript 数据结构。</p><p>这份数据在应用运行时被 <code>TuiProvider</code> 解析，并分发到两个不同的渲染通道：<strong>CSS 变量</strong> 和 <strong>Vue 响应式状态</strong>。这种设计确保了无论是 DOM 元素还是 Canvas 画布（如 ECharts、Three.js），都能实时响应主题的切换。</p><h2 id="核心架构" tabindex="-1">核心架构 <a class="header-anchor" href="#核心架构" aria-label="Permalink to &quot;核心架构&quot;">​</a></h2><p>TechUI 主题系统的运作流程如下：</p><ol><li><strong>定义 (Definition)</strong>: 开发者创建一个包含语义化颜色定义的 JS 对象（如 <code>lightBlue.js</code>），并使用 <code>tTheme.register</code> 进行注册。</li><li><strong>处理 (Processing)</strong>: <code>TuiProvider</code> 组件初始化时，读取当前激活的主题数据。</li><li><strong>分发 (Distribution)</strong>: <ul><li><strong>通道 A (CSS)</strong>: 系统自动生成 CSS 变量（CSS Custom Properties）并注入到文档根节点。例如 <code>primary.base</code> 转化为 <code>--primary-base</code>。</li><li><strong>通道 B (JS)</strong>: 系统将完整的主题树挂载到 <code>$tState.themePalette</code>，供组件逻辑和图表库使用。</li></ul></li></ol><h2 id="为什么选择这种设计" tabindex="-1">为什么选择这种设计？ <a class="header-anchor" href="#为什么选择这种设计" aria-label="Permalink to &quot;为什么选择这种设计？&quot;">​</a></h2><h3 id="语义化与标准化" tabindex="-1">语义化与标准化 <a class="header-anchor" href="#语义化与标准化" aria-label="Permalink to &quot;语义化与标准化&quot;">​</a></h3><p>我们不再关注具体的色值（如 <code>#1890ff</code>），而是关注颜色的<strong>语义</strong>。 所有的 TechUI 主题都遵循同一套 Schema 结构（如 <code>common</code>, <code>font</code>, <code>primary</code>, <code>danger</code>）。这意味着开发者只需编写一次代码（例如 <code>color: var(--danger-base)</code>），即可在任何主题下完美展示，无需担心深浅色模式的适配问题。</p><h3 id="真正的全栈主题支持" tabindex="-1">真正的全栈主题支持 <a class="header-anchor" href="#真正的全栈主题支持" aria-label="Permalink to &quot;真正的全栈主题支持&quot;">​</a></h3><p>传统的 CSS 主题方案难以触达 <code>&lt;canvas&gt;</code> 内部。 在数据大屏或复杂应用中，ECharts 图表、Three.js 3D 场景或 OpenLayers 地图通常需要传入具体的十六进制颜色值。TechUI 通过 <code>$tState.themePalette</code> 和 <code>$tc()</code> 函数，让 JS 侧也能像写 CSS 一样轻松获取当前主题色，从而实现图表与 UI 的无缝融合。</p><h3 id="运行时零编译切换" tabindex="-1">运行时零编译切换 <a class="header-anchor" href="#运行时零编译切换" aria-label="Permalink to &quot;运行时零编译切换&quot;">​</a></h3><p>不需要在构建时生成多份 CSS 文件。TechUI 的主题切换是纯运行时的，切换过程就像更新一个 Vue 变量一样简单且高效。配合视图转场动画，可以实现影院级的丝滑换肤体验。</p><h2 id="数据流向图" tabindex="-1">数据流向图 <a class="header-anchor" href="#数据流向图" aria-label="Permalink to &quot;数据流向图&quot;">​</a></h2><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[ 主题文件 (lightBlue.js) ]</span></span>
<span class="line"><span>          |</span></span>
<span class="line"><span>          v</span></span>
<span class="line"><span>[ tTheme.register (注册中心) ]</span></span>
<span class="line"><span>          |</span></span>
<span class="line"><span>   (应用启动 / 切换主题)</span></span>
<span class="line"><span>          |</span></span>
<span class="line"><span>          v</span></span>
<span class="line"><span>[ TuiProvider (核心处理) ]</span></span>
<span class="line"><span>          |</span></span>
<span class="line"><span>          +-------------------------------------+</span></span>
<span class="line"><span>          |                                     |</span></span>
<span class="line"><span>          v                                     v</span></span>
<span class="line"><span>[ CSS 变量系统 ]                        [ Vue 响应式系统 ]</span></span>
<span class="line"><span>:root {                                 $tState.themePalette</span></span>
<span class="line"><span>  --primary-base: #007bff;              {</span></span>
<span class="line"><span>  --bg-root: #ffffff;                     primary: { base: &quot;#007bff&quot; },</span></span>
<span class="line"><span>}                                         bg: { root: &quot;#ffffff&quot; }</span></span>
<span class="line"><span>          |                                     }</span></span>
<span class="line"><span>          |                                     |</span></span>
<span class="line"><span>          v                                     v</span></span>
<span class="line"><span>   [ DOM 组件 ]                         [ Canvas/JS 组件 ]</span></span>
<span class="line"><span>   div {                                echarts.init(..., {</span></span>
<span class="line"><span>     background: var(--bg-root);          color: [ theme.primary.base ]</span></span>
<span class="line"><span>   }                                    })</span></span></code></pre></div><h2 id="核心能力一览" tabindex="-1">核心能力一览 <a class="header-anchor" href="#核心能力一览" aria-label="Permalink to &quot;核心能力一览&quot;">​</a></h2><ul><li><strong>双模态访问</strong>: CSS 中使用 <code>var(--key-sub)</code>，JS 中使用 <code>$tc(&#39;key.sub&#39;)</code>。</li><li><strong>自动图表适配</strong>: 开启 ECharts 特性后，自动生成并注册对应的 ECharts 主题 JSON。</li><li><strong>内置色阶算法</strong>: 基于 <code>@techui/colors</code>，主题文件只需定义基准色，系统可自动计算衍生的渐变色或交互状态色。</li><li><strong>三维适配</strong>: 包含 <code>scifi</code>（科幻）字段，专门用于配置 3D 面板和装饰性 SVG 组件的发光与高亮效果。</li></ul>`,17)])])}const g=s(o,[["render",r]]);export{u as __pageData,g as default};
