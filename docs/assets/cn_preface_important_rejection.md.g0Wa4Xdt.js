import{_ as i,o as a,c as t,ah as e}from"./chunks/framework.PKn7PQPU.js";const k=JSON.parse('{"title":"组件库互斥原则","description":"","frontmatter":{},"headers":[],"relativePath":"cn/preface/important/rejection.md","filePath":"cn/preface/important/rejection.md"}'),n={name:"cn/preface/important/rejection.md"};function l(p,s,h,r,o,d){return a(),t("div",null,[...s[0]||(s[0]=[e(`<h1 id="组件库互斥原则" tabindex="-1">组件库互斥原则 <a class="header-anchor" href="#组件库互斥原则" aria-label="Permalink to &quot;组件库互斥原则&quot;">​</a></h1><p><strong>TechUI 遵循严格的“单核心原则 (Single Core Principle)”：在一个工程项目中，严禁同时引入或初始化多个 TechUI 组件库。</strong></p><p>这意味着您<strong>不能</strong>在同一个项目中同时安装 <code>@techui/scifi</code> 和 <code>@techui/base</code>，或者试图混合使用 <code>@techui/admin</code> 和 <code>@techui/scifi</code>。TechUI 的架构设计要求项目必须保持<strong>单一依赖源</strong>。</p><h2 id="技术约束" tabindex="-1">技术约束 <a class="header-anchor" href="#技术约束" aria-label="Permalink to &quot;技术约束&quot;">​</a></h2><p>这种互斥性并非人为设限，而是由 TechUI 的底层架构决定的。强行混用会导致以下严重的运行时冲突：</p><h3 id="🧩-wasm-单例冲突" tabindex="-1">🧩 Wasm 单例冲突 <a class="header-anchor" href="#🧩-wasm-单例冲突" aria-label="Permalink to &quot;🧩 Wasm 单例冲突&quot;">​</a></h3><p>TechUI 的所有组件库（Scifi/Base/Admin/Prime）在底层均共享同一套 Rust Wasm 运行时环境。</p><ul><li><strong>守卫指纹</strong>：Wasm 守卫在初始化时会锁定当前的运行环境指纹。若同时加载两个 Wasm 模块，会导致不可预知的错误问题。</li><li><strong>全局钩子</strong>：多个核心库同时尝试挂载 <code>window</code> 全局对象或劫持原生 API，会导致不可预知的行为。</li></ul><h3 id="🎨-样式与命名空间污染" tabindex="-1">🎨 样式与命名空间污染 <a class="header-anchor" href="#🎨-样式与命名空间污染" aria-label="Permalink to &quot;🎨 样式与命名空间污染&quot;">​</a></h3><ul><li><strong>CSS 变量覆写</strong>：所有组件库均通过 <code>:root</code> 定义 CSS 变量（如 <code>--font-weaker</code>）。</li><li><strong>Vue 上下文冲突</strong>：在 <code>app.use()</code> 注册阶段，不同库可能会注册相同名称的全局组件（如 <code>&lt;TuiButton&gt;</code>）。</li></ul><h2 id="产品定位与选型" tabindex="-1">产品定位与选型 <a class="header-anchor" href="#产品定位与选型" aria-label="Permalink to &quot;产品定位与选型&quot;">​</a></h2><p>TechUI 通过产品线的划分来满足不同场景的需求，<strong>Prime (旗舰版)</strong> 的存在正是为了解决“既要又要”的问题。</p><ul><li><p><strong>专精型 (Specialized)</strong>：</p><ul><li><strong>Scifi</strong>: 专注于科幻视觉与动态 SVG 路径。</li><li><strong>Base</strong>: 专注于基础图表与数据展示。</li><li><strong>Admin</strong>: 专注于后台业务逻辑与表单。</li><li><em>它们被设计为彼此隔离的“偏科生”，适用于纯粹的单一场景。</em></li></ul></li><li><p><strong>全能型 (All-in-One)</strong>：</p><ul><li><strong>Prime</strong>: 是唯一被允许的“全能生”。</li></ul></li></ul><h2 id="决策指南" tabindex="-1">决策指南 <a class="header-anchor" href="#决策指南" aria-label="Permalink to &quot;决策指南&quot;">​</a></h2><p>如果您在选型时感到困惑，请参考以下决策矩阵：</p><table tabindex="0"><thead><tr><th>您的需求</th><th>推荐方案</th><th>错误做法</th></tr></thead><tbody><tr><td>仅需要炫酷的大屏背景</td><td><code>@techui/scifi</code></td><td>-</td></tr><tr><td>仅需要做简单的数据报表</td><td><code>@techui/base</code></td><td>-</td></tr><tr><td><strong>既需要</strong>炫酷背景，<strong>又需要</strong>丰富图表</td><td><strong><code>@techui/prime</code></strong></td><td>❌ 同时安装 Scifi + Base</td></tr><tr><td>项目初期用 Base，后期想加科幻效果</td><td><strong>升级为 <code>@techui/prime</code></strong></td><td>❌ 在 Base 基础上追加 Scifi</td></tr></tbody></table><h2 id="依赖管理警告" tabindex="-1">依赖管理警告 <a class="header-anchor" href="#依赖管理警告" aria-label="Permalink to &quot;依赖管理警告&quot;">​</a></h2><p>在 <code>package.json</code> 中，请确保您的 <code>dependencies</code> 仅包含一个 TechUI 核心库。</p><div class="danger custom-block"><p class="custom-block-title">❌ 严禁操作：多库共存</p><p>虽然 <code>npm install</code> 可能不会报错，但在项目运行时会导致浏览器崩溃或熔断。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^3.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;@techui/scifi&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &lt;--- 冲突源 1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;@techui/base&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^1.0.0&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // &lt;--- 冲突源 2 (禁止与 Scifi 共存)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div><div class="tip custom-block"><p class="custom-block-title">✅ 正确操作：使用 Prime</p><p>如果您需要两者的功能，<strong>Prime 是唯一的解决方案</strong>。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// main.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createApp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 仅引入 Prime，即可获得 Scifi 的视觉与 Base 的图表</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PrimeInit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/prime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/prime/dist/style.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(App);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PrimeInit, { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* config */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div></div>`,20)])])}const g=i(n,[["render",l]]);export{k as __pageData,g as default};
