import{_ as a,o as i,c as n,ah as t}from"./chunks/framework.PKn7PQPU.js";const k=JSON.parse('{"title":"@TechUI/Locales 简介","description":"","frontmatter":{},"headers":[],"relativePath":"cn/ecosystem/ecoPacks/locales.md","filePath":"cn/ecosystem/ecoPacks/locales.md"}'),e={name:"cn/ecosystem/ecoPacks/locales.md"};function l(h,s,p,o,r,c){return i(),n("div",null,[...s[0]||(s[0]=[t(`<h1 id="techui-locales-简介" tabindex="-1">@TechUI/Locales 简介 <a class="header-anchor" href="#techui-locales-简介" aria-label="Permalink to &quot;@TechUI/Locales 简介&quot;">​</a></h1><p><strong>TechUI Locales (国际化资源包)</strong> 是 TechUI 生态系统的语言数据仓库，也是驱动整个框架实现全球化的核心依赖。</p><p>与传统的 i18n 方案（一次性加载庞大的 JSON）不同，<code>@techui/locales</code> 采用 <strong>&quot;Code-Splitting&quot;（代码分割）</strong> 与 <strong>&quot;Lazy-Loading&quot;（懒加载）</strong> 的设计哲学。它将语言包封装为独立的 JavaScript 模块，配合 TechUI 的核心引擎，实现了毫秒级的环境侦测与按需加载。</p><p><strong>一句话总结：按需加载、自动侦测、轻量级的高性能多语言方案。</strong></p><h2 id="支持的语言环境" tabindex="-1">支持的语言环境 <a class="header-anchor" href="#支持的语言环境" aria-label="Permalink to &quot;支持的语言环境&quot;">​</a></h2><p>目前官方内置了三种标准语言环境，覆盖了绝大多数业务场景：</p><table tabindex="0"><thead><tr><th>语言代码</th><th>描述</th><th>对应模块路径</th></tr></thead><tbody><tr><td><strong>cn</strong></td><td>简体中文 (Simplified Chinese)</td><td><code>@techui/locales/cn</code></td></tr><tr><td><strong>hk</strong></td><td>繁体中文 (Hong Kong Traditional)</td><td><code>@techui/locales/hk</code></td></tr><tr><td><strong>en</strong></td><td>英语 (English)</td><td><code>@techui/locales/en</code></td></tr></tbody></table><h2 id="核心特性-性能优先" tabindex="-1">核心特性 性能优先 <a class="header-anchor" href="#核心特性-性能优先" aria-label="Permalink to &quot;核心特性 性能优先&quot;">​</a></h2><h3 id="异步按需加载-async-lazy-load" tabindex="-1">异步按需加载 (Async Lazy Load) <a class="header-anchor" href="#异步按需加载-async-lazy-load" aria-label="Permalink to &quot;异步按需加载 (Async Lazy Load)&quot;">​</a></h3><p>这是该库最大的亮点。</p><ul><li><strong>智能策略</strong>：当用户处于中文环境时，系统只会网络请求 <code>cn.js</code>。</li><li><strong>零浪费</strong>：英文或繁体中文的资源<strong>完全不会</strong>被加载到浏览器中。这显著减少了首屏的资源体积 (Bundle Size) 和内存占用，让应用启动更快。</li></ul><h3 id="自动侦测-auto-detection" tabindex="-1">自动侦测 (Auto Detection) <a class="header-anchor" href="#自动侦测-auto-detection" aria-label="Permalink to &quot;自动侦测 (Auto Detection)&quot;">​</a></h3><p>您无需编写复杂的 <code>if/else</code> 逻辑来判断加载哪个语言包。初始化时，系统会自动按以下优先级“嗅探”用户偏好：</p><ol><li><strong>本地锁定 (Local Storage)</strong>：用户之前是否手动切换过语言？</li><li><strong>浏览器环境 (Navigator)</strong>：浏览器的首选语言是什么？</li><li><strong>默认兜底</strong>：如果都未匹配，则回退到简体中文 (<code>cn</code>)。</li></ol><h3 id="模块化结构-modular" tabindex="-1">模块化结构 (Modular) <a class="header-anchor" href="#模块化结构-modular" aria-label="Permalink to &quot;模块化结构 (Modular)&quot;">​</a></h3><p>在包内部，我们采用了 <strong>Plugin 分包结构</strong>。虽然您引入的是一个 <code>cn</code> 包，但其源码是由 <code>universal</code> (通用)、<code>components</code> (组件)、<code>business</code> (业务) 等多个微模块聚合而成。这意味着官方在维护庞大的翻译库时，依然能保持条理清晰。</p><h2 id="安装与使用" tabindex="-1">安装与使用 <a class="header-anchor" href="#安装与使用" aria-label="Permalink to &quot;安装与使用&quot;">​</a></h2><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @techui/locales</span></span></code></pre></div><h3 id="场景一-自动加载-推荐" tabindex="-1">场景一：自动加载 (推荐) <a class="header-anchor" href="#场景一-自动加载-推荐" aria-label="Permalink to &quot;场景一：自动加载 (推荐)&quot;">​</a></h3><p>在绝大多数 SPA (单页应用) 中，您<strong>不需要</strong>在代码中显式引入此包。 只需在 <code>TechUIInit</code> 初始化时，让框架自动去处理。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// main.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TechUIInit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;techui-prime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ✅ 无需 import &quot;@techui/locales/...&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 框架内部会自动根据当前环境，动态 import() 对应的语言文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TechUIInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...配置项</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="场景二-手动-静态引入-特殊需求" tabindex="-1">场景二：手动/静态引入 (特殊需求) <a class="header-anchor" href="#场景二-手动-静态引入-特殊需求" aria-label="Permalink to &quot;场景二：手动/静态引入 (特殊需求)&quot;">​</a></h3><p>如果您处于<strong>内网环境</strong>（无法请求动态 chunks），或者希望将特定语言包<strong>死打包</strong>进主 bundle 中，可以显式引入：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// main.js</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ⚠️ 强制引入英文包，不再进行自动侦测和网络请求</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/locales/en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TechUIInit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;techui-prime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 初始化时会直接使用内存中已注册的 &#39;en&#39; 数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TechUIInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><h2 id="语言切换与锁定" tabindex="-1">语言切换与锁定 <a class="header-anchor" href="#语言切换与锁定" aria-label="Permalink to &quot;语言切换与锁定&quot;">​</a></h2><p>为了保持极致的轻量化，TechUI 做了一个权衡设计：<strong>不支持热重载 (No Hot-Swap)</strong>。 这意味着切换语言必须刷新页面。我们提供了配套的工具函数来处理这一流程。</p><h3 id="标准切换逻辑" tabindex="-1">标准切换逻辑 <a class="header-anchor" href="#标准切换逻辑" aria-label="Permalink to &quot;标准切换逻辑&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { lockLang } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 工具函数来自 utils 包</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> switchLanguage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">langCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 1. 锁定用户偏好</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 将 &#39;en&#39;, &#39;hk&#39;, &#39;cn&#39; 写入 LocalStorage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  lockLang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(langCode);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 2. 刷新页面</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 页面重载后，Init 函数会优先读取 lockLang 写入的配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  location.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="查看更多细节" tabindex="-1">查看更多细节 <a class="header-anchor" href="#查看更多细节" aria-label="Permalink to &quot;查看更多细节&quot;">​</a></h2><p>TechUI多语言，有独立的章节介绍，请跳转至 <a href="/docs/cn/i18n/start/intro.html">i18n</a> 章节进行查看</p>`,31)])])}const g=a(e,[["render",l]]);export{k as __pageData,g as default};
