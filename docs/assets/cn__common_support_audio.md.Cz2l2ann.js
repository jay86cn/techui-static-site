import{_ as t,C as e,o as l,c as n,j as i,a as p,E as d,ah as o}from"./chunks/framework.PKn7PQPU.js";const b=JSON.parse('{"title":"提示音","description":"","frontmatter":{},"headers":[],"relativePath":"cn/_common/support/audio.md","filePath":"cn/_common/support/audio.md"}'),h={name:"cn/_common/support/audio.md"};function r(k,s,c,g,E,y){const a=e("AbsTag");return l(),n("div",null,[s[0]||(s[0]=i("h1",{id:"提示音",tabindex:"-1"},[p("提示音 "),i("a",{class:"header-anchor",href:"#提示音","aria-label":'Permalink to "提示音"'},"​")],-1)),d(a,{types:"1st"}),s[1]||(s[1]=o(`<p>TechUI 内置了一个轻量级的音频管理模块 <code>audio</code>，用于在用户交互（如点击、弹窗、警告）时提供听觉反馈，增强用户体验。</p><p>系统中的 <code>TuiPanicAlert</code>（紧急报警）、<code>TuiAdaptive</code>（自适应控制）以及所有的 <code>Attention</code>（消息/通知）组件默认均集成了此功能。您也可以在业务代码中手动调用这些音效。</p><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;">​</a></h2><p>通过 <code>$global</code> 注入 <code>audio</code> 对象即可使用。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { inject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">audio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 播放点击音效</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  audio.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">play</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;clickA&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="api-参考" tabindex="-1">API 参考 <a class="header-anchor" href="#api-参考" aria-label="Permalink to &quot;API 参考&quot;">​</a></h2><p><code>audio</code> 对象提供了以下三个核心方法：</p><h3 id="播放-play" tabindex="-1">播放 (play) <a class="header-anchor" href="#播放-play" aria-label="Permalink to &quot;播放 (play)&quot;">​</a></h3><p>用于触发一段音频。</p><p><strong>函数签名</strong>： <code>audio.play(name, loop, audioId, delay)</code></p><p><strong>参数说明</strong>：</p><table tabindex="0"><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>name</strong></td><td style="text-align:left;">String</td><td style="text-align:left;">-</td><td style="text-align:left;">音频资源名称（见下方资源列表）。</td></tr><tr><td style="text-align:left;"><strong>loop</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>false</code></td><td style="text-align:left;">是否循环播放。</td></tr><tr><td style="text-align:left;"><strong>audioId</strong></td><td style="text-align:left;">String</td><td style="text-align:left;"><code>null</code></td><td style="text-align:left;">自定义音频 ID。若未提供，默认使用 <code>name</code>。用于后续手动停止播放。</td></tr><tr><td style="text-align:left;"><strong>delay</strong></td><td style="text-align:left;">Number</td><td style="text-align:left;"><code>0</code></td><td style="text-align:left;">延迟播放的时间（毫秒）。</td></tr></tbody></table><p><strong>返回值</strong>： 返回一个 <code>Promise</code>。</p><ul><li>非循环模式：播放结束时 resolve。</li><li>循环模式：开始播放时立即 resolve。</li></ul><p><strong>示例</strong>：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 简单播放</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">audio.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">play</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;successA&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 延迟 600ms 后循环播放报警音，并指定 ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">audio.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">play</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;errorC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my_alarm_id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="停止-stop" tabindex="-1">停止 (stop) <a class="header-anchor" href="#停止-stop" aria-label="Permalink to &quot;停止 (stop)&quot;">​</a></h3><p>停止指定 ID 的音频播放。通常用于停止循环播放的背景音。</p><p><strong>函数签名</strong>： <code>audio.stop(audioId)</code></p><p><strong>示例</strong>：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 停止上面创建的报警音</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">audio.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my_alarm_id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="停止所有-stopall" tabindex="-1">停止所有 (stopAll) <a class="header-anchor" href="#停止所有-stopall" aria-label="Permalink to &quot;停止所有 (stopAll)&quot;">​</a></h3><p>立即停止当前正在播放的所有音频流。</p><p><strong>函数签名</strong>： <code>audio.stopAll()</code></p><h2 id="音频资源列表" tabindex="-1">音频资源列表 <a class="header-anchor" href="#音频资源列表" aria-label="Permalink to &quot;音频资源列表&quot;">​</a></h2><p>TechUI 预置了 19 种高品质音效，涵盖了交互、通知、错误和弹窗等场景。</p><h3 id="点击反馈-click" tabindex="-1">点击反馈 (Click) <a class="header-anchor" href="#点击反馈-click" aria-label="Permalink to &quot;点击反馈 (Click)&quot;">​</a></h3><ul><li><code>clickA</code></li><li><code>clickB</code></li><li><code>clickC</code></li></ul><h3 id="提示-通知-dindon-ping" tabindex="-1">提示/通知 (Dindon &amp; Ping) <a class="header-anchor" href="#提示-通知-dindon-ping" aria-label="Permalink to &quot;提示/通知 (Dindon &amp; Ping)&quot;">​</a></h3><ul><li><code>dindonA</code></li><li><code>dindonB</code></li><li><code>dindonC</code></li><li><code>pingA</code></li><li><code>pingB</code></li><li><code>pingC1</code></li><li><code>pingC2</code></li><li><code>pingC3</code></li></ul><h3 id="错误-警告-error" tabindex="-1">错误/警告 (Error) <a class="header-anchor" href="#错误-警告-error" aria-label="Permalink to &quot;错误/警告 (Error)&quot;">​</a></h3><ul><li><code>errorA</code></li><li><code>errorB</code></li><li><code>errorC</code></li><li><code>errorD</code></li></ul><h3 id="弹窗-浮层-popup" tabindex="-1">弹窗/浮层 (Popup) <a class="header-anchor" href="#弹窗-浮层-popup" aria-label="Permalink to &quot;弹窗/浮层 (Popup)&quot;">​</a></h3><ul><li><code>popupA</code></li><li><code>popupB</code></li><li><code>popupC</code></li><li><code>popupD</code></li></ul><h2 id="全局控制" tabindex="-1">全局控制 <a class="header-anchor" href="#全局控制" aria-label="Permalink to &quot;全局控制&quot;">​</a></h2><p>提示音功能受全局配置 <code>$globalConfig.sound</code> 的控制。</p><ul><li><strong>启用</strong>：当 <code>$globalConfig.sound</code> 为 <code>true</code> 时，组件会正常播放声音。</li><li><strong>静音</strong>：当设置为 <code>false</code> 时，系统组件（如 Message, Notification）将自动静音，但<strong>不会拦截</strong>您手动调用 <code>audio.play()</code> 的行为（除非在业务逻辑中自行判断）。</li></ul><p>您可以通过控制面板或代码修改此配置：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$tState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 全局关闭系统提示音</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$tState.globalConfig.sound </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div>`,39))])}const F=t(h,[["render",r]]);export{b as __pageData,F as default};
