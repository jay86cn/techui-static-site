import{_ as i,c as a,o as e,aj as n}from"./chunks/framework.DPdjieCD.js";const k=JSON.parse('{"title":"全局服务","description":"","frontmatter":{},"headers":[],"relativePath":"cn/_common/service/intro.md","filePath":"cn/_common/service/intro.md"}'),t={name:"cn/_common/service/intro.md"};function l(o,s,r,h,d,p){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="全局服务" tabindex="-1">全局服务 <a class="header-anchor" href="#全局服务" aria-label="Permalink to &quot;全局服务&quot;">​</a></h1><p><strong>TechUI</strong>构建了一套高性能、轻量级且高度集成的系统基础设施。这些功能不依赖庞大的第三方库，而是通过自研方案（如 WASM、原生 API 封装）实现了从视觉到交互的全面覆盖。</p><p><strong>TuiService</strong> 是 TechUI 组件库的“中枢神经系统”。它基于 Vue 3 的 <code>provide</code> / <code>inject</code> 依赖注入机制，构建了一套跨组件、跨层级的全局通信与状态管理方案。</p><p>它不仅负责管理应用的主题、配置和设备信息，还集成了消息反馈、视图转场、路由控制以及后台管理系统的核心逻辑。通过 <code>&lt;TuiProvider&gt;</code> 组件，这些能力被无缝注入到应用的每一个角落。</p><h2 id="核心机制与使用" tabindex="-1">核心机制与使用 <a class="header-anchor" href="#核心机制与使用" aria-label="Permalink to &quot;核心机制与使用&quot;">​</a></h2><p>在使用 TuiService 之前，必须确保您的应用根节点已包裹了 <code>TuiProvider</code> 组件。配置详情请参考 <a href="/docs/start/provider.html">提供者 Provider</a> 章节。</p><p>在任意子组件中，您无需逐个引入模块，只需通过注入 <code>$global</code> 标识符即可获取完整的服务实例：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { inject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在 setup 中注入</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 推荐：解构使用核心功能</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  $tState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 全局响应式状态树</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  $tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 消息提示服务</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  routerTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 带动画的路由跳转</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  themeToggle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 主题切换函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="响应式状态树" tabindex="-1">响应式状态树 <a class="header-anchor" href="#响应式状态树" aria-label="Permalink to &quot;响应式状态树&quot;">​</a></h2><p>这是应用的“数据仓库”，包含了所有全局共享的动态数据。所有状态均为 Vue <code>reactive</code> 对象，修改即触发视图更新。</p><ul><li><strong>全局配置 (<code>globalConfig</code>)</strong>：管理平台类型、3D 开关、遮罩特效等基础设置。</li><li><strong>运行时状态 (<code>globalState</code>)</strong>：实时监控全屏状态、侧边栏折叠、点击目标及窗口尺寸变化。</li><li><strong>设备感知 (<code>deviceInfo</code>)</strong>：自动侦测屏幕分辨率、设备类型（PC/Mobile）及横竖屏状态。</li><li><strong>外观配置</strong>：包含主题配色 (<code>themePalette</code>)、背景渲染 (<code>backgroundConfig</code>) 及 CSS 变量参数 (<code>globalParams</code>)。</li></ul><h2 id="交互与反馈系统" tabindex="-1">交互与反馈系统 <a class="header-anchor" href="#交互与反馈系统" aria-label="Permalink to &quot;交互与反馈系统&quot;">​</a></h2><p>提供了一套统一的 UI 反馈接口，无需手动挂载组件，直接通过函数调用。</p><ul><li><strong>消息通知</strong>：<code>$tMessage</code> (消息), <code>$tNotify</code> (通知), <code>$tToast</code> (轻提示), <code>$tFlash</code> (强提醒)。</li><li><strong>全局遮罩</strong>：<code>$tMask</code> 可控制全局背景的模糊与点击拦截。</li><li><strong>加载状态</strong>：<code>$tLoading</code> 提供全屏或局部的加载动画服务。</li><li><strong>气泡与面板</strong>：<code>$tPopover</code> 管理全局气泡弹窗，<code>controlPanel</code> 管理系统控制台。</li></ul><h2 id="核心功能函数" tabindex="-1">核心功能函数 <a class="header-anchor" href="#核心功能函数" aria-label="Permalink to &quot;核心功能函数&quot;">​</a></h2><p>封装了复杂的业务逻辑，提供开箱即用的方法。</p><ul><li><strong>视图转场</strong>：<code>routerTransition</code> 和 <code>themeToggle</code> 提供了影院级的页面跳转与主题切换动画。</li><li><strong>系统控制</strong>：支持 <code>softReload</code> (无刷新软重载) 和 <code>hardReload</code> (强重载)。</li><li><strong>路由辅助</strong>：<code>updateRouteQuery</code> 等路由参数快捷操作工具。</li><li><strong>工具集</strong>：包含国际化 (<code>i18n</code>)、本地加密存储 (<code>tStoreCrypto</code>) 等底层工具。</li></ul>`,17)])])}const g=i(t,[["render",l]]);export{k as __pageData,g as default};
