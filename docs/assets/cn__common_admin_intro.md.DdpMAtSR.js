import{_ as a,o as i,c as e,ah as n}from"./chunks/framework.PKn7PQPU.js";const k=JSON.parse('{"title":"工作台","description":"","frontmatter":{},"headers":[],"relativePath":"cn/_common/admin/intro.md","filePath":"cn/_common/admin/intro.md"}'),t={name:"cn/_common/admin/intro.md"};function o(l,s,p,r,h,d){return i(),e("div",null,[...s[0]||(s[0]=[n(`<h1 id="工作台" tabindex="-1">工作台 <a class="header-anchor" href="#工作台" aria-label="Permalink to &quot;工作台&quot;">​</a></h1><p>TechUI 工作台（Admin）模块是一套面向 B 端管理系统的完整解决方案。它深度集成了布局、鉴权、动态路由和菜单管理，通过数据驱动的方式，帮助开发者快速搭建标准化的后台管理系统。</p><h2 id="核心架构" tabindex="-1">核心架构 <a class="header-anchor" href="#核心架构" aria-label="Permalink to &quot;核心架构&quot;">​</a></h2><p>工作台的设计核心在于<strong>数据驱动</strong>与<strong>全局拦截</strong>。与传统的手动配置路由不同，TechUI 的工作台依赖于全局服务 <code>$ADMIN</code> 和 <code>TuiProvider</code> 的协同工作。</p><p>其运作流程如下：</p><ol><li><strong>组件注册：</strong> 在应用启动时，通过 <code>register.js</code> 建立字符串 Key 与 Vue 组件的映射关系，解决构建工具（Vite/Webpack）对动态导入的路径限制。</li><li><strong>数据注入：</strong> 将组件映射表注入到全局服务 <code>$ADMIN.componentRegister</code> 中。</li><li><strong>路由拦截：</strong> <code>TuiProvider</code> 组件内部实现了 <code>router.beforeEach</code> 守卫。</li><li><strong>动态生成：</strong> 当用户登录后，守卫会获取菜单数据（来自API），根据菜单中的 Key 在注册表中查找对应组件，最终通过 <code>router.addRoute</code> 动态挂载路由。</li></ol><h2 id="启用工作台" tabindex="-1">启用工作台 <a class="header-anchor" href="#启用工作台" aria-label="Permalink to &quot;启用工作台&quot;">​</a></h2><p>要使用工作台功能，必须在核心模块初始化时显式开启 <code>admin</code> 特性：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// main.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ... 其他配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  features: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    admin: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 激活后台管理特性</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    echarts: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TechUIInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>启用后，全局服务将暴露 <code>$ADMIN</code> 状态对象，且 <code>TuiProvider</code> 会启动路由权限拦截机制和工作台相关逻辑。</p><h2 id="模块组成" tabindex="-1">模块组成 <a class="header-anchor" href="#模块组成" aria-label="Permalink to &quot;模块组成&quot;">​</a></h2><p>工作台主要由以下四个核心模块构成，详细内容请参考各章节文档：</p><h3 id="动态路由-dynamic-router" tabindex="-1">动态路由 (Dynamic Router) <a class="header-anchor" href="#动态路由-dynamic-router" aria-label="Permalink to &quot;动态路由 (Dynamic Router)&quot;">​</a></h3><p>无需在本地 <code>router/index.js</code> 中手动编写业务路由。系统会根据后端返回的菜单树结构，自动计算路由路径、层级关系，并处理 <code>KeepAlive</code> 缓存。支持将路由配置持久化存储于本地 IndexedDB 中，以提高二次加载速度。</p><h3 id="组件注册-component-register" tabindex="-1">组件注册 (Component Register) <a class="header-anchor" href="#组件注册-component-register" aria-label="Permalink to &quot;组件注册 (Component Register)&quot;">​</a></h3><p>为了解决构建工具无法解析完全动态路径的问题，工作台采用“预注册”模式。开发者需要维护一份 <code>register.js</code> 清单，将路由标识（如 <code>&quot;dashboard&quot;</code>）映射到具体的 <code>.vue</code> 文件路径。</p><h3 id="登录页面-login-page" tabindex="-1">登录页面 (Login Page) <a class="header-anchor" href="#登录页面-login-page" aria-label="Permalink to &quot;登录页面 (Login Page)&quot;">​</a></h3><p>提供开箱即用的 <code>&lt;TuiLogin&gt;</code> 组件。它封装了表单验证、加载状态、背景切换和版权信息展示。在业务逻辑中，只需关注登录接口的调用和 <code>$AUserInfo</code>（用户信息）的写入，组件会自动处理路由重定向。</p><h3 id="布局组件-layout" tabindex="-1">布局组件 (Layout) <a class="header-anchor" href="#布局组件-layout" aria-label="Permalink to &quot;布局组件 (Layout)&quot;">​</a></h3><p>基于 <code>&lt;TuiAdminLayout&gt;</code> 构建的标准后台框架。</p><ul><li><strong>自适应容器：</strong> 外部包裹 <code>&lt;TuiAdaptive&gt;</code>，支持延伸、弹性、固定等多种屏幕适配策略。</li><li><strong>辅助栏 (Assist)：</strong> 位于侧边栏底部的功能区，集成了用户头像、消息通知、系统设置和注销功能。</li><li><strong>背景管理：</strong> 支持根据不同路由路径自动切换视图背景（如大屏模式下显示星空背景，表格页面显示纯色背景）。</li></ul><h2 id="目录结构示例" tabindex="-1">目录结构示例 <a class="header-anchor" href="#目录结构示例" aria-label="Permalink to &quot;目录结构示例&quot;">​</a></h2><p>一个典型的 TechUI 工作台项目的目录结构如下：</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/</span></span>
<span class="line"><span>  ├── navigation/</span></span>
<span class="line"><span>  │   └── register.js      # 组件注册表（核心配置）</span></span>
<span class="line"><span>  ├── views/</span></span>
<span class="line"><span>  │   ├── layout.vue       # 布局入口，集成 TuiAdminLayout</span></span>
<span class="line"><span>  │   ├── assist.vue       # 侧边栏辅助组件</span></span>
<span class="line"><span>  │   └── login.vue        # 登录页面</span></span>
<span class="line"><span>  └── main.js              # 初始化并注入 componentRegister</span></span></code></pre></div><p>通过以上模块的组合，开发者仅需关注 <code>register.js</code> 的配置和业务组件的开发，其余的菜单渲染、路由跳转、权限验证均由 TechUI 自动托管。</p>`,25)])])}const g=a(t,[["render",o]]);export{k as __pageData,g as default};
