import{_ as a,C as d,c as r,o as n,j as o,G as l,aj as c,a as i}from"./chunks/framework.DPdjieCD.js";const _=JSON.parse('{"title":"加载面板","description":"","frontmatter":{},"headers":[],"relativePath":"cn/tuiBase/dataDisplay/loaderPanel.md","filePath":"cn/tuiBase/dataDisplay/loaderPanel.md"}'),s={name:"cn/tuiBase/dataDisplay/loaderPanel.md"};function h(u,e,p,g,b,P){const t=d("AbsTag");return n(),r("div",null,[e[0]||(e[0]=o("h1",{id:"加载面板",tabindex:"-1"},[i("加载面板 "),o("a",{class:"header-anchor",href:"#加载面板","aria-label":'Permalink to "加载面板"'},"​")],-1)),l(t,{types:"1st"}),e[1]||(e[1]=c('<p>用于包裹业务模块的通用加载容器。它不仅提供统一的 Loading 视觉反馈和交互阻断，还集成了系统的全局初始化计数逻辑，用于协同页面级的加载进度统计。</p><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;">​</a></h2><p><code>TuiLoaderPanel</code> 通常作为卡片或模块的根容器使用。通过控制 <code>loading</code> 和 <code>inited</code> 属性来管理组件的生命周期状态。</p><p>::: 需要补全Demo！！！！demo 包含基础切换、异步模拟及透明度配置的综合演示 loader-panel/index :::</p><blockquote><p><strong>注意</strong>：上面的演示集成了 <code>TuiLoaderPanel</code> 的核心特性，包括加载时的点击穿透防护（pointer-events: none）以及 <code>inited</code> 状态变化时的计数器响应。</p></blockquote><h2 id="api-参考" tabindex="-1">API 参考 <a class="header-anchor" href="#api-参考" aria-label="Permalink to &quot;API 参考&quot;">​</a></h2><h3 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h3><table tabindex="0"><thead><tr><th>属性名</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td><strong>loading</strong></td><td>是否处于加载中状态。为 <code>true</code> 时，内容区域透明度降低且无法交互，同时显示 Loading 动画。</td><td><code>Boolean</code></td><td><code>true</code></td></tr><tr><td><strong>inited</strong></td><td>初始化完成标记。当该值从 <code>false</code> 变为 <code>true</code> 时，会触发全局状态中的 <code>portletCounter</code> 自增。</td><td><code>Boolean</code></td><td><code>false</code></td></tr><tr><td><strong>loadingOpacity</strong></td><td>加载状态下内容区域的透明度。范围 <code>0-1</code>，数值越小越透明。</td><td><code>Number</code></td><td><code>0.1</code></td></tr></tbody></table><h3 id="slots" tabindex="-1">Slots <a class="header-anchor" href="#slots" aria-label="Permalink to &quot;Slots&quot;">​</a></h3><table tabindex="0"><thead><tr><th>插槽名</th><th>说明</th></tr></thead><tbody><tr><td><strong>default</strong></td><td>默认插槽，放置具体的业务组件内容。</td></tr></tbody></table><h2 id="核心机制说明" tabindex="-1">核心机制说明 <a class="header-anchor" href="#核心机制说明" aria-label="Permalink to &quot;核心机制说明&quot;">​</a></h2><h3 id="交互阻断与视觉反馈" tabindex="-1">交互阻断与视觉反馈 <a class="header-anchor" href="#交互阻断与视觉反馈" aria-label="Permalink to &quot;交互阻断与视觉反馈&quot;">​</a></h3><p>当 <code>loading</code> 为 <code>true</code> 时，组件会自动应用以下样式行为：</p><ul><li><strong>交互阻断</strong>：设置 <code>pointer-events: none</code>，防止用户点击或操作未加载完成的 DOM 元素。</li><li><strong>透明度处理</strong>：内容区域的透明度会被设置为 <code>loadingOpacity</code> 的值（默认 0.1），以视觉上区分“加载中”与“可用”状态。</li></ul><h3 id="全局计数器集成-portlet-counter" tabindex="-1">全局计数器集成 (Portlet Counter) <a class="header-anchor" href="#全局计数器集成-portlet-counter" aria-label="Permalink to &quot;全局计数器集成 (Portlet Counter)&quot;">​</a></h3><p>该组件与系统的全局状态中的<code>$globalState/portletCounter</code>进行联动。</p><ul><li><strong>触发时机</strong>：监听 <code>inited</code> 属性的变化。</li><li><strong>执行逻辑</strong>：仅当 <code>inited</code> 变为 <code>true</code> 时，执行 <code>$tState.globalState.portletCounter++</code>，可以通过<code>$gPortletCounter</code>计算属性来监测此参数。</li><li><strong>使用场景</strong>：通常用于 Dashboard 或复杂页面，父级通过监听计数器的总值来判断是否所有子模块都已加载完毕（例如：<code>Total Modules = 5</code>, 等待 <code>Counter === 5</code> 时移除页面级遮罩）。</li></ul><h3 id="loading-效果实现-组件复用" tabindex="-1">Loading 效果实现 (组件复用) <a class="header-anchor" href="#loading-效果实现-组件复用" aria-label="Permalink to &quot;Loading 效果实现 (组件复用)&quot;">​</a></h3><p>本组内部调用了 <strong><code>TuiLoadingArea</code></strong> 组件来实现区域遮罩效果。</p><ul><li><strong>职责分离</strong>：<code>TuiLoaderPanel</code> 负责容器布局、交互逻辑（如 <code>pointer-events</code>）和全局计数器状态；而 <code>TuiLoadingArea</code> 专注于 Loading 动画的视觉渲染。</li><li><strong>透传控制</strong>：组件将接收到的 <code>loading</code> 属性直接透传给内部的 <code>TuiLoadingArea</code>，确保视觉反馈与逻辑状态保持一致。</li></ul><p><strong>如果您希望在文档中更显眼地提示这一点，也可以使用 Note 提示块：</strong></p><div class="tip custom-block"><p class="custom-block-title">内部依赖</p><p><code>TuiLoaderPanel</code> 依赖 <strong><code>TuiLoadingArea</code></strong> 组件来显示加载动画。在使用前请确保 <code>TuiLoadingArea</code> 已在项目中注册或引用。</p></div>',22))])}const f=a(s,[["render",h]]);export{_ as __pageData,f as default};
