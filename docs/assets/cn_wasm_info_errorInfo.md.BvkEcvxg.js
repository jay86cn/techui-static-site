import{_ as o,o as d,c as r,ah as e}from"./chunks/framework.PKn7PQPU.js";const m=JSON.parse('{"title":"错误代码 Error Codes","description":"","frontmatter":{"pageClass":"doc-wide-view"},"headers":[],"relativePath":"cn/wasm/info/errorInfo.md","filePath":"cn/wasm/info/errorInfo.md"}'),n={name:"cn/wasm/info/errorInfo.md"};function s(a,t,c,i,g,h){return d(),r("div",null,[...t[0]||(t[0]=[e('<h1 id="错误代码-error-codes" tabindex="-1">错误代码 Error Codes <a class="header-anchor" href="#错误代码-error-codes" aria-label="Permalink to &quot;错误代码 Error Codes&quot;">​</a></h1><p>当 TechUI 的 <strong>守卫 (Guard)</strong> 检测到异常时，会根据错误的严重程度触发控制台警告或全屏熔断。</p><p>在熔断界面或通过 <code>tuiCoreInfo()</code> 查询到的 <code>VALIDSTATUS</code> 对象中，您会看到具体的错误状态键名（Key）。当某个键的值为 <code>false</code> 时，表示该项检查<strong>未通过</strong>。</p><p>以下是所有错误代码的含义及排查方案。</p><h2 id="授权与时效" tabindex="-1">授权与时效 <a class="header-anchor" href="#授权与时效" aria-label="Permalink to &quot;授权与时效&quot;">​</a></h2><p>此类错误通常与许可证的有效期、版本或试用限制有关。</p><table tabindex="0"><thead><tr><th>错误代码 (Code)</th><th>含义 (Meaning)</th><th>排查方案 (Solution)</th></tr></thead><tbody><tr><td><strong>dateValid</strong></td><td><strong>主许可已过期</strong>。当前系统时间超过了许可证设定的 <code>expDate</code>。</td><td>请联系商务续费，获取新的 License String。</td></tr><tr><td><strong>subLicDateValid</strong></td><td><strong>子许可证已过期</strong>。商业许可分发给最终客户的开发许可已到期。</td><td>请为该客户生成新的子许可字符串。</td></tr><tr><td><strong>tempKey</strong></td><td><strong>体验时长耗尽</strong>。在免费版/试用版中启用了高级组件，10分钟倒计时结束。</td><td>刷新页面可重置计时，或购买正式授权以解除限制。</td></tr><tr><td><strong>version</strong></td><td><strong>版本不兼容</strong>。当前组件库版本（如 v1.5）高于许可证绑定的版本约束（如 v1.0）。</td><td>1. 升级许可证以支持新版本；2. 降级组件库至许可证支持的范围。</td></tr></tbody></table><h2 id="环境与绑定" tabindex="-1">环境与绑定 <a class="header-anchor" href="#环境与绑定" aria-label="Permalink to &quot;环境与绑定&quot;">​</a></h2><p>此类错误由运行环境与许可证配置不匹配触发。</p><table tabindex="0"><thead><tr><th>错误代码 (Code)</th><th>含义 (Meaning)</th><th>排查方案 (Solution)</th></tr></thead><tbody><tr><td><strong>domainName</strong></td><td><strong>域名校验失败</strong>。当前 <code>hostname</code> 不在许可证的白名单内。</td><td>检查是否在错误的域名下部署，或联系客服增加域名白名单。</td></tr><tr><td><strong>project</strong></td><td><strong>项目名称不匹配</strong>。许可证开启了 <code>projectBind</code>，但 <code>document.title</code> 未包含指定项目名。</td><td>修改 HTML 的 <code>&lt;title&gt;</code> 标签，使其包含许可证中指定的项目名称。</td></tr><tr><td><strong>deployLocation</strong></td><td><strong>部署位置违规</strong>。许可证限制为 <code>localOnly</code>（内网专用），但检测到公网环境。</td><td>请确保仅在内网 IP 或私有云环境部署，或升级为通用商业许可。</td></tr><tr><td><strong>platform</strong></td><td><strong>平台类型错误</strong>。许可证为TechUI Prime组件库，但运行在 TechUI Sass（或反之）。</td><td>请确认下载的组件库版本与购买的授权平台类型一致。</td></tr></tbody></table><h2 id="完整性与防篡改" tabindex="-1">完整性与防篡改 <a class="header-anchor" href="#完整性与防篡改" aria-label="Permalink to &quot;完整性与防篡改&quot;">​</a></h2><p>此类错误表示系统检测到了潜在的攻击或环境破坏行为。</p><table tabindex="0"><thead><tr><th>错误代码 (Code)</th><th>含义 (Meaning)</th><th>排查方案 (Solution)</th></tr></thead><tbody><tr><td><strong>nativeMethods</strong></td><td><strong>原生方法被篡改</strong>。浏览器核心 API（如 <code>console.info</code>, <code>Date</code>, <code>setTimeout</code>）被第三方脚本 Hook 或修改。</td><td>1. 关闭可能干扰的浏览器插件（如去广告、脚本注入插件）；2. 检查项目中引入的第三方监控 SDK 是否重写了原生对象。</td></tr><tr><td><strong>comment</strong></td><td><strong>签名节点丢失</strong>。HTML 尾部的 TechUI 授权注释被移除。</td><td>请勿使用JS脚本移除 HTML 注释，这是正版授权的标识。</td></tr><tr><td><strong>webSys</strong></td><td><strong>宿主环境异常</strong>。Wasm 无法正确访问 <code>window</code> 或 <code>document</code> 对象，环境可能受限。</td><td>检查是否运行在不支持 Wasm 的过旧浏览器或非标准的 WebView 中。</td></tr><tr><td><strong>icoreStr</strong></td><td><strong>核心完整性受损</strong>。Wasm 内部的核心字符串常量被非法修改。</td><td>这是一个严重错误，通常意味着内存被调试器修改。请刷新页面重试。</td></tr><tr><td><strong>component</strong></td><td><strong>组件验证失败</strong>。检测组件被篡改。</td><td>通常为恶意修改代码所致。</td></tr></tbody></table><h2 id="解析与格式" tabindex="-1">解析与格式 <a class="header-anchor" href="#解析与格式" aria-label="Permalink to &quot;解析与格式&quot;">​</a></h2><p>此类错误通常意味着输入的 License 字符串本身已损坏。</p><table tabindex="0"><thead><tr><th>错误代码 (Code)</th><th>含义 (Meaning)</th><th>排查方案 (Solution)</th></tr></thead><tbody><tr><td><strong>license</strong></td><td><strong>主许可解析失败</strong>。License 字符串格式错误、被截断或签名校验未通过。</td><td>重新复制邮件中的完整 License 字符串，确保没有多余空格。</td></tr><tr><td><strong>subLicense</strong></td><td><strong>子许可解析失败</strong>。商业许可中的子授权段落格式错误。</td><td>检查生成的子许可配置是否正确。</td></tr></tbody></table><h2 id="prime-旗舰版专属" tabindex="-1">Prime 旗舰版专属 <a class="header-anchor" href="#prime-旗舰版专属" aria-label="Permalink to &quot;Prime 旗舰版专属&quot;">​</a></h2><p>仅在使用 <code>@techui/prime</code> 旗舰版时会出现以下错误。</p><table tabindex="0"><thead><tr><th>错误代码 (Code)</th><th>含义 (Meaning)</th><th>排查方案 (Solution)</th></tr></thead><tbody><tr><td><strong>licenseKey</strong></td><td><strong>许可证密钥未找到</strong></td><td>请检查许可证密钥是否传入。</td></tr><tr><td><strong>licenseDec</strong></td><td><strong>许可证密钥解析错误</strong></td><td>请检查许可证密钥是否正确。</td></tr><tr><td><strong>keychain</strong></td><td><strong>钥匙串缺失</strong>。未检测到 <code>@techui/prime-keychain</code> 依赖包。</td><td>请执行 <code>npm install @techui/prime-keychain</code> 并确保正确引入。</td></tr><tr><td><strong>keyInChain</strong></td><td><strong>钥匙串中无对应密钥</strong>。传入的 <code>keychain</code> 为空或无此许可证的对应key。</td><td>检查初始化代码中的 <code>keychain</code> 传参。</td></tr><tr><td><strong>configParams</strong></td><td><strong>配置解密失败</strong>。Client Key 与 Keychain 无法配对解密配置参数。</td><td>确保 Client Key 与安装的 Keychain 版本是匹配的。</td></tr><tr><td><strong>licCfgParams</strong></td><td><strong>配置密钥中参数错误</strong></td><td>检查许可证配置参数是否和许可证密钥中的参数匹配。</td></tr><tr><td><strong>environment</strong></td><td><strong>生产环境限制</strong>。检测到 <code>NODE_ENV=production</code>，但当前处于未授权的体验模式。</td><td>Prime 版严禁在未授权状态下打包上线。请配置正式 License 后再构建生产包。</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">💡 快速定位</p><p>在开发控制台输入 <code>tuiCoreInfo()</code>，查看 <code>VALIDSTATUS</code> 对象。值为 <code>false</code> 的项即为导致熔断的具体原因。</p></div>',20)])])}const p=o(n,[["render",s]]);export{m as __pageData,p as default};
