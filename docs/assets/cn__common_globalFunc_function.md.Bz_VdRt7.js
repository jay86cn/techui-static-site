import{_ as a,o as i,c as t,ah as o}from"./chunks/framework.PKn7PQPU.js";const u=JSON.parse('{"title":"功能函数","description":"","frontmatter":{},"headers":[],"relativePath":"cn/_common/globalFunc/function.md","filePath":"cn/_common/globalFunc/function.md"}'),s={name:"cn/_common/globalFunc/function.md"};function n(l,e,r,d,c,h){return i(),t("div",null,[...e[0]||(e[0]=[o(`<h1 id="功能函数" tabindex="-1">功能函数 <a class="header-anchor" href="#功能函数" aria-label="Permalink to &quot;功能函数&quot;">​</a></h1><p>功能函数（Functional Utilities）是一组纯逻辑或辅助性工具，用于在 JS 中快速访问系统底层能力，如主题切换、加密存储、路由操作等。</p><div class="tip custom-block"><p class="custom-block-title">请跳转查看完整文档</p><p><strong>全局功能函数完整文档，请点击查阅 <a href="./../service/function.html">全局服务-函数</a> 章节</strong></p></div><h2 id="调用方式" tabindex="-1">调用方式 <a class="header-anchor" href="#调用方式" aria-label="Permalink to &quot;调用方式&quot;">​</a></h2><p>与组件函数一致，推荐在 setup 中通过 <code>inject</code> 获取。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { inject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  $tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  i18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  updateRouteQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  openEnc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$global&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="主题与视觉" tabindex="-1">主题与视觉 <a class="header-anchor" href="#主题与视觉" aria-label="Permalink to &quot;主题与视觉&quot;">​</a></h2><p>用于管理应用的主题色、背景以及界面布局状态。</p><h3 id="tc-get-theme-color" tabindex="-1">$tc (Get Theme Color) <a class="header-anchor" href="#tc-get-theme-color" aria-label="Permalink to &quot;$tc (Get Theme Color)&quot;">​</a></h3><p>获取当前主题调色板中的颜色值。</p><ul><li><strong>参数</strong>: <ul><li><code>str</code> (String): 颜色路径，例如 <code>&#39;primary.main&#39;</code> 或 <code>&#39;background.level1&#39;</code>。</li><li><code>cpt</code> (Boolean): 是否返回 Vue 计算属性 (ComputedRef)。默认为 <code>false</code> (返回静态值)。</li></ul></li><li><strong>返回</strong>: 颜色字符串 (Hex/Rgba) 或 Ref 对象。 <ul><li><strong>示例</strong>:</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mainColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> $tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;primary.main&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></li></ul><h3 id="themetoggle" tabindex="-1">themeToggle <a class="header-anchor" href="#themetoggle" aria-label="Permalink to &quot;themeToggle&quot;">​</a></h3><p>切换整个应用的主题预设。</p><ul><li><strong>参数</strong>: <code>themeName</code> (String) - 必须是已注册的主题名称（如 <code>&#39;darkBlue&#39;</code>, <code>&#39;techLight&#39;</code>）。</li></ul><h3 id="背景控制" tabindex="-1">背景控制 <a class="header-anchor" href="#背景控制" aria-label="Permalink to &quot;背景控制&quot;">​</a></h3><ul><li><strong>initBG(config)</strong>: 初始化或更新全局背景。<code>config</code> 支持传入 <code>{ graphicType: &#39;SvgPattern&#39;, ... }</code> 等详细配置。</li><li><strong>resetBG()</strong>: 移除当前背景样式，重置为默认。</li></ul><h3 id="界面开关" tabindex="-1">界面开关 <a class="header-anchor" href="#界面开关" aria-label="Permalink to &quot;界面开关&quot;">​</a></h3><ul><li><strong>controlPanelToggle()</strong>: 切换右侧控制面板（设置面板）的展开/收起状态。</li><li><strong>maximizeToggle()</strong>: 切换当前视图内容区的“最大化”状态（隐藏侧边栏和顶栏）。</li><li><strong>toggleSider()</strong>: 切换左侧菜单栏的折叠/展开状态。</li></ul><h2 id="国际化" tabindex="-1">国际化 <a class="header-anchor" href="#国际化" aria-label="Permalink to &quot;国际化&quot;">​</a></h2><p>处理多语言逻辑。</p><h3 id="i18n" tabindex="-1">i18n <a class="header-anchor" href="#i18n" aria-label="Permalink to &quot;i18n&quot;">​</a></h3><p>获取指定键名的翻译文本。</p><ul><li><strong>参数</strong>: <code>str</code> (String) - 语言路径，如 <code>&#39;common.submit&#39;</code>。</li><li><strong>返回</strong>: 翻译后的字符串。</li></ul><h3 id="getsyslang" tabindex="-1">getSysLang <a class="header-anchor" href="#getsyslang" aria-label="Permalink to &quot;getSysLang&quot;">​</a></h3><p>获取当前系统激活的语言代码。</p><ul><li><strong>返回</strong>: <code>&#39;cn&#39;</code> (简中) | <code>&#39;hk&#39;</code> (繁中) | <code>&#39;en&#39;</code> (英文)。</li></ul><h3 id="initi18n" tabindex="-1">initI18n <a class="header-anchor" href="#initi18n" aria-label="Permalink to &quot;initI18n&quot;">​</a></h3><p>异步初始化国际化系统，通常在 App 启动时调用。</p><h3 id="tconsolei18n" tabindex="-1">tConsolei18n <a class="header-anchor" href="#tconsolei18n" aria-label="Permalink to &quot;tConsolei18n&quot;">​</a></h3><p>在控制台输出带有国际化键名的日志（用于调试）。</p><ul><li><strong>参数</strong>: <code>type</code> (日志级别), <code>name</code> (模块名), <code>msg</code> (i18n键), <code>thro</code> (是否节流)。</li></ul><h2 id="路由与页面" tabindex="-1">路由与页面 <a class="header-anchor" href="#路由与页面" aria-label="Permalink to &quot;路由与页面&quot;">​</a></h2><p>不依赖 <code>vue-router</code> 实例的快捷操作。</p><h3 id="updateroutequery" tabindex="-1">updateRouteQuery <a class="header-anchor" href="#updateroutequery" aria-label="Permalink to &quot;updateRouteQuery&quot;">​</a></h3><p>无刷新更新 URL 的 Query 参数。</p><ul><li><strong>参数</strong>: <code>query</code> (Object) - 需要合并的参数对象。</li><li><strong>示例</strong>: <code>updateRouteQuery({ tab: &#39;settings&#39;, id: 1024 })</code></li></ul><h3 id="getroutequery" tabindex="-1">getRouteQuery <a class="header-anchor" href="#getroutequery" aria-label="Permalink to &quot;getRouteQuery&quot;">​</a></h3><p>获取当前 URL 的 Query 参数。</p><ul><li><strong>参数</strong>: <code>key</code> (String, 可选) - 指定参数名。不传则返回整个 Query 对象。</li></ul><h3 id="routertransition" tabindex="-1">routerTransition <a class="header-anchor" href="#routertransition" aria-label="Permalink to &quot;routerTransition&quot;">​</a></h3><p>配置路由跳转时的过渡动画。</p><ul><li><strong>参数</strong>: <code>config</code> (Object) - 例如 <code>{ name: &#39;vt-slide-left&#39;, duration: 0.5 }</code>。</li></ul><h3 id="页面重载" tabindex="-1">页面重载 <a class="header-anchor" href="#页面重载" aria-label="Permalink to &quot;页面重载&quot;">​</a></h3><ul><li><strong>softReload()</strong>: <strong>软重载</strong>。通过 <code>v-if</code> 销毁并重建根组件 <code>TuiProvider</code>。页面不会白屏刷新，且<strong>保留</strong> Vuex/Pinia 中的状态。</li><li><strong>hardReload()</strong>: <strong>硬重载</strong>。调用 <code>location.reload()</code>，相当于 F5 刷新，状态会丢失。</li></ul><h2 id="安全与存储" tabindex="-1">安全与存储 <a class="header-anchor" href="#安全与存储" aria-label="Permalink to &quot;安全与存储&quot;">​</a></h2><p>提供基于 WASM 的加密能力和安全的本地存储。</p><h3 id="加解密-wasm" tabindex="-1">加解密 (WASM) <a class="header-anchor" href="#加解密-wasm" aria-label="Permalink to &quot;加解密 (WASM)&quot;">​</a></h3><ul><li><strong>openEnc(data, params)</strong>: 加密函数。将任意数据加密为字符串。</li><li><strong>openDec(encryptedData, params)</strong>: 解密函数。还原加密字符串。</li></ul><h3 id="tstorecrypto-加密存储" tabindex="-1">tStoreCrypto (加密存储) <a class="header-anchor" href="#tstorecrypto-加密存储" aria-label="Permalink to &quot;tStoreCrypto (加密存储)&quot;">​</a></h3><p>对 <code>localStorage</code> 和 <code>sessionStorage</code> 的封装，存入的数据会自动加密。</p><ul><li><strong>方法</strong>:</li><li><code>tStoreCrypto.s(type, key, data)</code>: <strong>Save</strong>。<code>type</code> 为 <code>&#39;local&#39;</code> 或 <code>&#39;session&#39;</code>。</li><li><code>tStoreCrypto.g(type, key)</code>: <strong>Get</strong>。读取并解密数据。</li><li><code>tStoreCrypto.d(type, key)</code>: <strong>Delete</strong>。删除数据。</li></ul><h2 id="系统配置" tabindex="-1">系统配置 <a class="header-anchor" href="#系统配置" aria-label="Permalink to &quot;系统配置&quot;">​</a></h2><h3 id="加载动画配置" tabindex="-1">加载动画配置 <a class="header-anchor" href="#加载动画配置" aria-label="Permalink to &quot;加载动画配置&quot;">​</a></h3><ul><li><strong>initSpinner(config)</strong>: 配置全局 <code>$tLoading</code> 的默认样式。可分别配置全屏 (<code>full</code>) 和局部 (<code>area</code>) 的 Spinner 类型与尺寸。</li></ul><h3 id="自适应配置" tabindex="-1">自适应配置 <a class="header-anchor" href="#自适应配置" aria-label="Permalink to &quot;自适应配置&quot;">​</a></h3><ul><li><strong>initResizeBy()</strong>: 获取自适应基准的计算函数。通常用于高级的 DOM 尺寸监听逻辑。</li><li><strong>resetAdaptiveConfig()</strong>: 重置自适应适配器的所有状态。</li></ul><h3 id="功能特性标识-feature-flags" tabindex="-1">功能特性标识 (Feature Flags) <a class="header-anchor" href="#功能特性标识-feature-flags" aria-label="Permalink to &quot;功能特性标识 (Feature Flags)&quot;">​</a></h3><p>只读属性，用于判断当前环境启用了哪些模块。</p><ul><li><code>isActAdvFeatures</code>: 高级组件模块</li><li><code>isActEchartsFeatures</code>: 图表模块</li><li><code>isActAdminFeatures</code>: 后台管理模块</li></ul><h2 id="事件总线" tabindex="-1">事件总线 <a class="header-anchor" href="#事件总线" aria-label="Permalink to &quot;事件总线&quot;">​</a></h2><h3 id="tbus" tabindex="-1">$tBus <a class="header-anchor" href="#tbus" aria-label="Permalink to &quot;$tBus&quot;">​</a></h3><p><strong>注意：已不推荐使用</strong>。建议优先使用 <code>provide/inject</code> 或全局状态管理。 全局事件发射器，包含 <code>emit</code>, <code>on</code>, <code>off</code> 方法。</p>`,62)])])}const g=a(s,[["render",n]]);export{u as __pageData,g as default};
