import{_ as i,C as e,c as l,o as n,j as s,G as h,aj as d,a as p}from"./chunks/framework.DPdjieCD.js";const F=JSON.parse('{"title":"闪光","description":"","frontmatter":{},"headers":[],"relativePath":"cn/tuiBase/attention/flash.md","filePath":"cn/tuiBase/attention/flash.md"}'),r={name:"cn/tuiBase/attention/flash.md"};function o(k,t,g,E,c,y){const a=e("AbsTag");return n(),l("div",null,[t[0]||(t[0]=s("h1",{id:"闪光",tabindex:"-1"},[p("闪光 "),s("a",{class:"header-anchor",href:"#闪光","aria-label":'Permalink to "闪光"'},"​")],-1)),h(a,{types:"star 1st"}),t[1]||(t[1]=d(`<p><strong>Flash (闪光)</strong> 是 TechUI 通知体系中优先级最高的<strong>强提醒组件</strong>。它通常用于展示紧急告警如“服务器断连”、“数据丢失风险”、“数字孪生系统中的火警”等或关键状态变更。</p><p>与普通通知不同，Flash 具有 <strong>“强占式”</strong> 调度特性。触发时，它会伴随全屏的动态光晕特效，并立即暂停当前正在展示的其他轻提示（Toast），优先占据屏幕焦点，直到 Flash 队列被清空。</p><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;">​</a></h2><p>通过 <code>$tFlash</code> 方法即可触发一个闪光告警。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { inject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$tFlash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. 基础告警</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tFlash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;检测到网络异常，正在重连...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;danger&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. 急促闪烁效果</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tFlash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;紧急制动已启动！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  aniType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sudden&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="核心特性" tabindex="-1">核心特性 <a class="header-anchor" href="#核心特性" aria-label="Permalink to &quot;核心特性&quot;">​</a></h2><h3 id="强占式调度-preemptive" tabindex="-1">强占式调度 (Preemptive) <a class="header-anchor" href="#强占式调度-preemptive" aria-label="Permalink to &quot;强占式调度 (Preemptive)&quot;">​</a></h3><p>Flash 拥有绝对的“路权”。</p><ul><li><strong>插队</strong>: 当 Flash 触发时，调度器会立即暂停当前的 Toast 队列。</li><li><strong>独占</strong>: 只有当所有 Flash 消息处理完毕（手动关闭或自动消失）后，之前被暂停的 Toast 才会恢复展示。</li><li><strong>队列计数</strong>: 如果短时间内触发了多条 Flash，屏幕角落（由 <code>queuePosition</code> 决定）会显示当前剩余的告警数量。</li></ul><h3 id="全屏视觉特效" tabindex="-1">全屏视觉特效 <a class="header-anchor" href="#全屏视觉特效" aria-label="Permalink to &quot;全屏视觉特效&quot;">​</a></h3><p>Flash 激活时，会产生一个以当前通知内容为中心的全屏光晕遮罩。</p><ul><li><strong>非阻塞</strong>: 遮罩层设置了 <code>pointer-events: none</code>，因此<strong>不会阻挡</strong>用户对页面其他内容的点击操作。</li><li><strong>动画风格 (<code>aniType</code>)</strong>: <ul><li><code>soft</code> (默认): 柔和的呼吸光晕，适合常规警告。</li><li><code>sudden</code>: 急促的高频闪烁，适合紧急故障。</li></ul></li></ul><h3 id="外观复用" tabindex="-1">外观复用 <a class="header-anchor" href="#外观复用" aria-label="Permalink to &quot;外观复用&quot;">​</a></h3><p>Flash 本质上是一个调度和特效包装器，其内部的内容载体可以复用 <code>Toast</code> 或 <code>Message</code> 的样式。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用 Message 的外观（顶部弹出）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tFlash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;系统核心温度过高&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  appearance: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  position: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top-center&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用 Toast 的外观（底部弹出，默认）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tFlash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;连接已断开&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  appearance: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;toast&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="视觉层级-tone" tabindex="-1">视觉层级 (Tone) <a class="header-anchor" href="#视觉层级-tone" aria-label="Permalink to &quot;视觉层级 (Tone)&quot;">​</a></h3><p>支持 5 种色调等级，用于增强或减弱告警的视觉冲击力。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tFlash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;严重错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;danger&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tone: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;strongInvert&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 强反色模式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="全局方法" tabindex="-1">全局方法 <a class="header-anchor" href="#全局方法" aria-label="Permalink to &quot;全局方法&quot;">​</a></h2><h3 id="tflash-options" tabindex="-1"><code>$tFlash(options)</code> <a class="header-anchor" href="#tflash-options" aria-label="Permalink to &quot;\`$tFlash(options)\`&quot;">​</a></h3><p>将一条高优先级告警推入 Flash 队列。</p><h3 id="tflashclose" tabindex="-1"><code>$tFlashClose()</code> <a class="header-anchor" href="#tflashclose" aria-label="Permalink to &quot;\`$tFlashClose()\`&quot;">​</a></h3><p>关闭当前正在展示的 Flash 告警。如果队列中还有剩余告警，将自动播放下一条。</p><h2 id="api-参考" tabindex="-1">API 参考 <a class="header-anchor" href="#api-参考" aria-label="Permalink to &quot;API 参考&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>content</strong></td><td style="text-align:left;">String</td><td style="text-align:left;">(必填)</td><td style="text-align:left;">告警内容。</td></tr><tr><td style="text-align:left;"><strong>type</strong></td><td style="text-align:left;">String</td><td style="text-align:left;"><code>&#39;info&#39;</code></td><td style="text-align:left;">主题色类型 (primary, danger, warning 等)。</td></tr><tr><td style="text-align:left;"><strong>tone</strong></td><td style="text-align:left;">String</td><td style="text-align:left;"><code>&#39;base&#39;</code></td><td style="text-align:left;">视觉色调。可选值：<code>&#39;weak&#39;</code>, <code>&#39;base&#39;</code>, <code>&#39;strong&#39;</code>, <code>&#39;strongInvert&#39;</code>, <code>&#39;extremeInvert&#39;</code>。</td></tr><tr><td style="text-align:left;"><strong>aniType</strong></td><td style="text-align:left;">String</td><td style="text-align:left;"><code>&#39;soft&#39;</code></td><td style="text-align:left;">动画风格。可选：<code>&#39;soft&#39;</code> (柔和呼吸), <code>&#39;sudden&#39;</code> (急促闪烁)。</td></tr><tr><td style="text-align:left;"><strong>appearance</strong></td><td style="text-align:left;">String</td><td style="text-align:left;"><code>&#39;toast&#39;</code></td><td style="text-align:left;">内容载体外观。可选：<code>&#39;toast&#39;</code>, <code>&#39;message&#39;</code>。</td></tr><tr><td style="text-align:left;"><strong>queuePosition</strong></td><td style="text-align:left;">String</td><td style="text-align:left;">-</td><td style="text-align:left;">队列计数器的显示位置 (如 <code>&#39;top-right&#39;</code>)。</td></tr><tr><td style="text-align:left;"><strong>queueOffset</strong></td><td style="text-align:left;">Number</td><td style="text-align:left;"><code>0</code></td><td style="text-align:left;">队列计数器相对于位置的额外偏移量 (px)。</td></tr><tr><td style="text-align:left;"><strong>spreadRadius</strong></td><td style="text-align:left;">Number</td><td style="text-align:left;"><code>15</code></td><td style="text-align:left;">光晕扩散半径 (px)。</td></tr><tr><td style="text-align:left;"><strong>blurRadius</strong></td><td style="text-align:left;">Number</td><td style="text-align:left;"><code>30</code></td><td style="text-align:left;">光晕模糊半径 (px)。</td></tr><tr><td style="text-align:left;"><strong>showClose</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>true</code></td><td style="text-align:left;">是否显示关闭按钮。</td></tr><tr><td style="text-align:left;"><strong>onClose</strong></td><td style="text-align:left;">Function</td><td style="text-align:left;">-</td><td style="text-align:left;">关闭时的回调函数。</td></tr><tr><td style="text-align:left;"><strong>duration</strong></td><td style="text-align:left;">Number</td><td style="text-align:left;">-</td><td style="text-align:left;">展示时长。Flash 通常建议设为 <code>0</code> (需手动关闭) 或较长的时长。</td></tr><tr><td style="text-align:left;"><strong>grouping</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>false</code></td><td style="text-align:left;">是否开启分组。</td></tr><tr><td style="text-align:left;"><strong>typedConfig</strong></td><td style="text-align:left;">Object</td><td style="text-align:left;">-</td><td style="text-align:left;">透传给内部内容组件 (<code>Toast</code> 或 <code>Message</code>) 的样式配置。</td></tr><tr><td style="text-align:left;"><strong>icon</strong></td><td style="text-align:left;">String</td><td style="text-align:left;">-</td><td style="text-align:left;">自定义图标。</td></tr><tr><td style="text-align:left;"><strong>hideIcon</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>false</code></td><td style="text-align:left;">是否隐藏图标。</td></tr><tr><td style="text-align:left;"><strong>transparent</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>true</code></td><td style="text-align:left;">是否启用半透明背景。</td></tr><tr><td style="text-align:left;"><strong>backgroundBlur</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>true</code></td><td style="text-align:left;">是否启用背景模糊。</td></tr><tr><td style="text-align:left;"><strong>className</strong></td><td style="text-align:left;">String</td><td style="text-align:left;">-</td><td style="text-align:left;">自定义 CSS 类名。</td></tr></tbody></table><h2 id="全局配置" tabindex="-1">全局配置 <a class="header-anchor" href="#全局配置" aria-label="Permalink to &quot;全局配置&quot;">​</a></h2><p>全局配置对象 <code>$aFlash</code> (或 <code>$attentionConfig.flash</code>) 是<strong>响应式</strong>的。您可以动态调整光晕特效的强度或默认外观。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { inject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$aFlash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> upgradeFlashEffect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 增强光晕效果</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  $aFlash.value.spreadRadius </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  $aFlash.value.blurRadius </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 修改默认外观为 Message 风格</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  $aFlash.value.appearance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="交互权重说明" tabindex="-1">交互权重说明 <a class="header-anchor" href="#交互权重说明" aria-label="Permalink to &quot;交互权重说明&quot;">​</a></h2><p>由于 <code>Flash</code> 组件设计用于展示极高权重、紧急或需要强制关注的通知信息（如系统级警报、成就解锁等），它<strong>特意屏蔽了</strong>全局 <code>escCounter</code> 的监控。</p><p>这意味着用户<strong>无法</strong>通过按下 <code>Esc</code> 键来快速关闭它，必须等待其动画播放结束或进行显式的交互操作。这种设计是为了防止关键信息被用户习惯性的“Esc 连击”意外忽略。</p>`,31))])}const u=i(r,[["render",o]]);export{F as __pageData,u as default};
