import{_ as i,c as a,o as t,aj as n}from"./chunks/framework.DPdjieCD.js";const g=JSON.parse('{"title":"类型与数据","description":"","frontmatter":{},"headers":[],"relativePath":"cn/utils/modules/type.md","filePath":"cn/utils/modules/type.md"}'),l={name:"cn/utils/modules/type.md"};function h(e,s,p,k,r,d){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="类型与数据" tabindex="-1">类型与数据 <a class="header-anchor" href="#类型与数据" aria-label="Permalink to &quot;类型与数据&quot;">​</a></h1><p><strong>Type 模块</strong> 提供了精准的类型判断以及针对 JavaScript 四大基础数据类型（Number, String, Array, Object）的增强操作库。</p><p>它不仅弥补了原生 <code>typeof</code> 的不足，还封装了深度克隆、深度合并、随机数据生成等高频业务逻辑。</p><h2 id="引入方式" tabindex="-1">引入方式 <a class="header-anchor" href="#引入方式" aria-label="Permalink to &quot;引入方式&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { tType, tNum, tStr, tArr, tObj } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="类型识别" tabindex="-1">类型识别 <a class="header-anchor" href="#类型识别" aria-label="Permalink to &quot;类型识别&quot;">​</a></h2><p><strong>tType(data)</strong> 是一个精准的类型判断函数，它基于 <code>Object.prototype.toString</code> 实现，解决了 <code>typeof null === &#39;object&#39;</code> 等原生缺陷。</p><ul><li><strong>返回</strong>: 小写类型字符串 (如 <code>&#39;string&#39;</code>, <code>&#39;number&#39;</code>, <code>&#39;array&#39;</code>, <code>&#39;object&#39;</code>, <code>&#39;date&#39;</code>, <code>&#39;regexp&#39;</code>)。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;array&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;null&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;date&quot;</span></span></code></pre></div><h2 id="数字工具" tabindex="-1">数字工具 <a class="header-anchor" href="#数字工具" aria-label="Permalink to &quot;数字工具&quot;">​</a></h2><p><strong>tNum</strong> 提供了数字校验、随机数生成和格式化功能。</p><h3 id="校验与判断" tabindex="-1">校验与判断 <a class="header-anchor" href="#校验与判断" aria-label="Permalink to &quot;校验与判断&quot;">​</a></h3><ul><li><strong>verify(num)</strong>: 判断是否为数字类型。</li><li><strong>isNEG0(num)</strong>: 判断是否 ≥ 0 (Equal Greater 0)。</li><li><strong>isNG0(num)</strong>: 判断是否 &gt; 0 (Greater 0)。</li><li><strong>isValidNumber(str)</strong>: 判断字符串是否为有效数字（支持小数）。</li><li><strong>isNumberWithCommas(str)</strong>: 判断是否为带千分位的数字格式（如 <code>1,234.56</code>）。</li></ul><h3 id="随机与计算" tabindex="-1">随机与计算 <a class="header-anchor" href="#随机与计算" aria-label="Permalink to &quot;随机与计算&quot;">​</a></h3><ul><li><strong>rdm(min, max)</strong>: 生成指定范围内的随机整数。</li><li><strong>safeFixed(num, decimal)</strong>: 安全的四舍五入保留小数（修复了 JS 浮点数精度问题）。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> money</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tNum.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">safeFixed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0.3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> randomScore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tNum.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rdm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="转换与格式化" tabindex="-1">转换与格式化 <a class="header-anchor" href="#转换与格式化" aria-label="Permalink to &quot;转换与格式化&quot;">​</a></h3><ul><li><strong>convert(str, precision)</strong>: 安全地将字符串转为数字。 <ul><li>返回 <code>{ success: boolean, num?: number, error?: string }</code> 结构，不会抛出异常。</li></ul></li><li><strong>padZero(val, len)</strong>: 数字补零（如 <code>5</code> -&gt; <code>&quot;5.00&quot;</code>）。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tNum.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">convert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;12.345&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (res.success) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res.num); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 12.35</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="字符串工具" tabindex="-1">字符串工具 <a class="header-anchor" href="#字符串工具" aria-label="Permalink to &quot;字符串工具&quot;">​</a></h2><p><strong>tStr</strong> 专注于字符串的生成与大小写转换。</p><ul><li><strong>rdm(len)</strong>: 生成指定长度的随机字符串（排除了易混淆字符如 <code>I, l, 1, O, 0</code>），常用于生成临时 ID 或验证码。</li><li><strong>upper1st(str)</strong>: 首字母大写。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tStr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rdm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;aBcdEfGh&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tStr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upper1st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;techUI&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;TechUI&quot;</span></span></code></pre></div><h2 id="数组工具" tabindex="-1">数组工具 <a class="header-anchor" href="#数组工具" aria-label="Permalink to &quot;数组工具&quot;">​</a></h2><p><strong>tArr</strong> 提供了数组的校验、比较与随机抽取。</p><h3 id="字段校验-field-validation" tabindex="-1">字段校验 (Field Validation) <a class="header-anchor" href="#字段校验-field-validation" aria-label="Permalink to &quot;字段校验 (Field Validation)&quot;">​</a></h3><p><strong>fieldValid(arr, fields)</strong>: 检查数组中的对象是否包含指定字段。 这在处理 API 返回列表数据时非常有用，能快速定位缺损数据。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> users</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [{ id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }]; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 第二项缺失 name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> check</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tArr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fieldValid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(users, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">check.valid) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(check.message); </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // &quot;Item at index 1 is missing field &quot;name&quot;...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="其他方法" tabindex="-1">其他方法 <a class="header-anchor" href="#其他方法" aria-label="Permalink to &quot;其他方法&quot;">​</a></h3><ul><li><strong>rdmpk1(arr)</strong>: 随机从数组中抽取一项 (Random Pick 1)。</li><li><strong>shallowEQ(arr1, arr2)</strong>: 数组浅比较。用于判断两个简单数组的内容是否一致。</li></ul><h2 id="对象工具" tabindex="-1">对象工具 <a class="header-anchor" href="#对象工具" aria-label="Permalink to &quot;对象工具&quot;">​</a></h2><p><strong>tObj</strong> 是处理复杂业务逻辑的核心，涵盖了深拷贝、深合并及键值校验。</p><h3 id="深度操作-deep-ops" tabindex="-1">深度操作 (Deep Ops) <a class="header-anchor" href="#深度操作-deep-ops" aria-label="Permalink to &quot;深度操作 (Deep Ops)&quot;">​</a></h3><ul><li><strong>dpc(obj)</strong>: <strong>深度克隆 (Deep Clone)</strong>。基于 JSON 实现，适合无函数/正则的纯数据对象。</li><li><strong>dpm(target, merged)</strong>: <strong>深度合并 (Deep Merge)</strong>。递归合并两个对象，用于处理配置项覆盖。</li><li><strong>isEq(val1, val2)</strong>: <strong>深度相等判断</strong>。支持对象、数组、日期、正则的递归比较。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> defaultCfg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { theme: { color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;red&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, size: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userCfg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { theme: { color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;blue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 深度合并：保留了 size: 10</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> finalCfg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tObj.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dpm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(defaultCfg, userCfg); </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { theme: { color: &#39;blue&#39;, size: 10 } }</span></span></code></pre></div><h3 id="键值校验" tabindex="-1">键值校验 <a class="header-anchor" href="#键值校验" aria-label="Permalink to &quot;键值校验&quot;">​</a></h3><p><strong>keyValid(obj, keys, all)</strong>: 检查对象是否包含指定键。</p><ul><li><code>all=true</code>: 必须包含<strong>所有</strong>指定键。</li><li><code>all=false</code>: 包含<strong>任意一个</strong>指定键即可。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { keyword: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, page: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> valid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tObj.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keyValid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;keyword&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;page&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="辅助方法" tabindex="-1">辅助方法 <a class="header-anchor" href="#辅助方法" aria-label="Permalink to &quot;辅助方法&quot;">​</a></h3><ul><li><strong>isEmpty(obj)</strong>: 判断对象是否为空 <code>{}</code>。</li><li><strong>pick(obj, keys)</strong>: 提取对象中的指定字段，返回新对象。</li><li><strong>remKey(obj, keyOrKeys)</strong>: 移除对象中的指定字段，返回新对象（不修改原对象）。</li></ul>`,41)])])}const E=i(l,[["render",h]]);export{g as __pageData,E as default};
