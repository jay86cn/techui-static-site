import{_ as i,o as a,c as n,ah as t}from"./chunks/framework.PKn7PQPU.js";const g=JSON.parse('{"title":"Prime 组件库授权","description":"","frontmatter":{},"headers":[],"relativePath":"cn/auth/platform/prime.md","filePath":"cn/auth/platform/prime.md"}'),l={name:"cn/auth/platform/prime.md"};function e(h,s,p,r,k,o){return a(),n("div",null,[...s[0]||(s[0]=[t(`<h1 id="prime-组件库授权" tabindex="-1">Prime 组件库授权 <a class="header-anchor" href="#prime-组件库授权" aria-label="Permalink to &quot;Prime 组件库授权&quot;">​</a></h1><p><strong>@techui/prime</strong> 是 TechUI 系列的旗舰集合库。它集成了 Scifi 的视觉风格、Base 的数据展现能力以及 Admin 的业务框架，并独占了所有高级可视化组件。</p><p>与 Base、Scifi 和 Admin 不同，Prime 采用 <strong>重许可 (Heavy License)</strong> 机制，这意味着它<strong>没有免费试用模式</strong>，必须在工程初始化时正确配置密钥链（Keychain）和许可证（License）方可运行。</p><h2 id="许可证类别" tabindex="-1">许可证类别 <a class="header-anchor" href="#许可证类别" aria-label="Permalink to &quot;许可证类别&quot;">​</a></h2><p>TechUI许可证类别分为：</p><ul><li>重许可轻许可：双向联合解密，客户端密钥+Npm钥匙串。</li><li>轻许可：单一密钥串，客户端密钥。</li></ul><p>Prime 的采用了重许可，来保护版权，它有着双重验证机制。Wasm 核心模块必须同时获取本地客户端密钥与外部注入的密钥链，才能完成解密流程。</p><ul><li><strong>强制性</strong>：未配置授权参数，Prime 将进入体验模式，限时10分钟。</li><li><strong>依赖包</strong>：取得授权后，必须安装并引入 <code>@techui/prime-keychain</code>。</li></ul><h2 id="许可证说明" tabindex="-1">许可证说明 <a class="header-anchor" href="#许可证说明" aria-label="Permalink to &quot;许可证说明&quot;">​</a></h2><p>Prime 组件库根据传入的 <code>license</code> 参数解密结果，会处于以下几种不同的运行状态。请根据您的业务需求选择合适的许可证类型。</p><h3 id="授权状态-authorized" tabindex="-1">授权状态 (Authorized) <a class="header-anchor" href="#授权状态-authorized" aria-label="Permalink to &quot;授权状态 (Authorized)&quot;">​</a></h3><p>取得正式授权后，Wasm 模块将解除所有限制，控制台会输出具体的授权主体信息。</p><ul><li><strong>商业许可证 (Commerce License)</strong><ul><li><strong>适用对象</strong>：软件开发商 (ISV) 或技术供应商。</li><li><strong>权益</strong>：作为“母许可”，除了自身拥有永久的使用权外，还具有 <strong>分发权</strong>。在订阅期内，您可以生成并颁发二级子许可（公司、项目、开发许可）给您的最终客户。</li><li><strong>限制</strong>：按年订阅。订阅过期后无法生成新的子许可，但已颁发的许可和自身使用不受影响。</li></ul></li><li><strong>公司许可证 (Company License)</strong><ul><li><strong>适用对象</strong>：最终用户企业。</li><li><strong>权益</strong>：<strong>永久有效</strong>。授权绑定至特定的企业主体，该企业可以在其内部的任意数量的项目中使用 Prime 组件库，无项目数量限制。</li><li><strong>特征</strong>：触发验证时，偶尔在浏览器标签标题 <code>document.title</code> 短暂闪现公司名称3秒。</li></ul></li><li><strong>项目许可证 (Project License)</strong><ul><li><strong>适用对象</strong>：特定的业务系统或项目。</li><li><strong>权益</strong>：<strong>永久有效</strong>。授权严格绑定至特定的项目名称，系统名称不支持宽泛定义。</li><li><strong>特征</strong>：浏览器标签标题<code>document.title</code> 将被永久锁定为授权的项目名称，不可修改。</li></ul></li><li><strong>开发许可证 (Development License)</strong><ul><li><strong>适用对象</strong>：售前演示、POC 验证或内部短期开发。</li><li><strong>权益</strong>：<strong>限时有效</strong>（通常为 1 个月）。功能与正式版一致，但包含时间锁。</li><li><strong>特征</strong>：控制台会明确提示过期时间。</li></ul></li></ul><h3 id="未取得授权-unauthorized-体验模式" tabindex="-1">未取得授权 (Unauthorized) - 体验模式 <a class="header-anchor" href="#未取得授权-unauthorized-体验模式" aria-label="Permalink to &quot;未取得授权 (Unauthorized) - 体验模式&quot;">​</a></h3><p>与 Scifi 或 Base 组件库不同，<strong>Prime 组件库没有免费模式，但是可以进入限时体验模式</strong>。</p><p>当您未传入 <code>license</code>，或传入的许可证无效/解密失败时，Prime 将自动进入 <strong>体验模式 (Experience Mode)</strong>。</p><ul><li><strong>触发条件</strong>：初始化参数中 <code>license</code> 为空或校验未通过。</li><li><strong>运行时长</strong>：<strong>10 分钟</strong>。</li><li><strong>模式行为</strong>： <ul><li>启动后，控制台会输出信息，提示当前处于“体验模式，限时10分钟”。</li><li>在此期间，您可以完整使用 Prime 的所有高级组件（如 T3D, PanicAlert, Echarts 等）进行功能评估和测试。</li></ul></li><li><strong>服务拒绝 (Denial of Service)</strong>： <ul><li>当 10 分钟倒计时结束，Wasm 守卫将触发熔断机制。</li><li>所有 DOM 元素被移除。</li><li>页面会弹出“体验结束”的阻断窗口。</li></ul></li><li><strong>重置方式</strong>：<strong>刷新浏览器页面</strong> 即可重新开始 10 分钟的体验。</li></ul><blockquote><p><strong>提示</strong>：体验模式仅供开发者在本地评估功能使用，严禁用于任何生产环境。</p></blockquote><h2 id="安装与配置" tabindex="-1">安装与配置 <a class="header-anchor" href="#安装与配置" aria-label="Permalink to &quot;安装与配置&quot;">​</a></h2><p>在初始化 Prime 时，除了常规的 <code>license</code> 字符串外，<strong>必须</strong> 传入从 npm 安装的 <code>keychain</code> 对象。</p><h3 id="步骤-a-安装依赖" tabindex="-1">步骤 A: 安装依赖 <a class="header-anchor" href="#步骤-a-安装依赖" aria-label="Permalink to &quot;步骤 A: 安装依赖&quot;">​</a></h3><p>确保您的项目中已安装 Prime 核心库及对应的密钥链包。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @techui/prime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @techui/prime-keychain</span></span></code></pre></div><h3 id="步骤-b-初始化代码" tabindex="-1">步骤 B: 初始化代码 <a class="header-anchor" href="#步骤-b-初始化代码" aria-label="Permalink to &quot;步骤 B: 初始化代码&quot;">​</a></h3><p>在项目的入口文件（如 <code>main.js</code> 或 <code>main.ts</code>）中，引入 <code>keychain</code> 并将其传递给 <code>TechUIInit</code>。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createApp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./App.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> router </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./router&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> store </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./store&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. 引入 Prime 核心与密钥链</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TechUIInit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/prime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> keychain </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/prime-keychain&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. 引入您的许可证文件 (通常包含 license 字符串和 config 配置)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { license, licenseConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./utils/license.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(App);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. 构建配置参数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 核心授权参数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  license, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 客户端密钥 (Client Key Encrypted)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  keychain, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 密钥链，位于Npm，用于联合解密</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  licenseConfig, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 许可证配置信息</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  debug: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 建议在开发阶段开启，以便查看授权状态日志</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 功能特性开关</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  features: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    echarts: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 开启 TuiEcharts 相关组件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    admin: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 开启 Admin 业务组件 (登录/布局等)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    advanced: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 开启 高级组件 (3D/MGS/PanicAlert)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4. 初始化</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TechUIInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(router);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(store);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TechUI Prime Initialization Failed:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span></code></pre></div><h2 id="解锁权益" tabindex="-1">解锁权益 <a class="header-anchor" href="#解锁权益" aria-label="Permalink to &quot;解锁权益&quot;">​</a></h2><p>成功取得授权并正确初始化 Prime 后，系统将解锁以下全部能力：</p><h3 id="全量组件访问" tabindex="-1">全量组件访问 <a class="header-anchor" href="#全量组件访问" aria-label="Permalink to &quot;全量组件访问&quot;">​</a></h3><ul><li><strong>UI 视觉</strong>：包含 Scifi 库的所有动态 SVG 组件、科幻面板、装饰器。</li><li><strong>数据展现</strong>：包含 Base 库的所有表格、表单、工具栏组件。</li><li><strong>业务框架</strong>：包含 Admin 库的动态路由、工作台布局、登录页模板。</li></ul><h3 id="高级组件-advanced-components" tabindex="-1">高级组件 (Advanced Components) <a class="header-anchor" href="#高级组件-advanced-components" aria-label="Permalink to &quot;高级组件 (Advanced Components)&quot;">​</a></h3><p>Prime 授权独家包含以下高级组件的使用权（无需额外付费）：</p><ul><li><strong>T3DPanel</strong>: 具备物理厚度与光影计算的 3D 容器。</li><li><strong>Bar3D / Pie3D</strong>: 基于 3D 引擎的液位柱图与立体环形图。</li><li><strong>PanicAlert</strong>: 系统级阻断告警组件。</li><li><strong>TuiEcharts</strong>: 深度集成的 Echarts 图表与地图封装。</li></ul><h2 id="授权反馈" tabindex="-1">授权反馈 <a class="header-anchor" href="#授权反馈" aria-label="Permalink to &quot;授权反馈&quot;">​</a></h2><p>当 Prime 初始化成功后，Wasm 模块会在浏览器控制台输出授权铭牌：</p><ul><li><strong>授权信息</strong>：显示 &quot;TechUI Prime vX.X&quot;，并标注 &quot;授权给 [公司名称/项目名称]&quot;。</li><li><strong>有效期</strong>：显示 &quot;永久有效&quot; 或具体的到期时间（针对开发许可）。</li><li><strong>所有权标识</strong>： <ul><li>若是<strong>公司许可</strong>，页面标题 (<code>document.title</code>) 可能会在验证触发时短暂闪现公司名称。</li><li>若是<strong>项目许可</strong>，页面标题将被永久锁定为项目名称。</li></ul></li></ul>`,36)])])}const E=i(l,[["render",e]]);export{g as __pageData,E as default};
