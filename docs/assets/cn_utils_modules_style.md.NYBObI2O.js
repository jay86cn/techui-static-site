import{_ as i,o as a,c as e,ah as t}from"./chunks/framework.PKn7PQPU.js";const c=JSON.parse('{"title":"样式工具","description":"","frontmatter":{},"headers":[],"relativePath":"cn/utils/modules/style.md","filePath":"cn/utils/modules/style.md"}'),l={name:"cn/utils/modules/style.md"};function n(h,s,p,r,k,d){return a(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="样式工具" tabindex="-1">样式工具 <a class="header-anchor" href="#样式工具" aria-label="Permalink to &quot;样式工具&quot;">​</a></h1><p><strong>Style 模块</strong> 提供了对 CSS 和 DOM 类名的底层操作能力。</p><p>它不仅封装了安全的类名增删改查方法，还提供了动态向 <code>&lt;head&gt;</code> 注入样式标签以及生成 CSS 变量字符串的能力，是 TechUI 主题系统动态换肤的底层支撑。</p><h2 id="引入方式" tabindex="-1">引入方式 <a class="header-anchor" href="#引入方式" aria-label="Permalink to &quot;引入方式&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { cssVarGen, styleInit, tClass, tTheme } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="动态样式" tabindex="-1">动态样式 <a class="header-anchor" href="#动态样式" aria-label="Permalink to &quot;动态样式&quot;">​</a></h2><h3 id="styleinit-id-info-cssstr" tabindex="-1">styleInit(id, info, cssStr) <a class="header-anchor" href="#styleinit-id-info-cssstr" aria-label="Permalink to &quot;styleInit(id, info, cssStr)&quot;">​</a></h3><p>动态创建或更新 <code>&lt;style&gt;</code> 标签。</p><ul><li><strong>机制</strong>: 如果指定 ID 的 style 标签已存在，则更新其内容；否则创建一个新的标签并追加到 <code>head</code> 中。</li><li><strong>参数</strong>: <ul><li><code>id</code>: 标签的唯一 ID后缀 (生成 <code>#style{id}</code>)。</li><li><code>info</code>: 附加在 <code>dataset.info</code> 上的描述信息。</li><li><code>cssStr</code>: 具体的 CSS 代码字符串。</li></ul></li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 动态注入一段 CSS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">styleInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;custom-bg&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;red-theme&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;body { background: red; }&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="cssvargen-prefix-styleobj" tabindex="-1">cssVarGen(prefix, styleObj) <a class="header-anchor" href="#cssvargen-prefix-styleobj" aria-label="Permalink to &quot;cssVarGen(prefix, styleObj)&quot;">​</a></h3><p><strong>CSS 变量生成器</strong>。将 JavaScript 对象转换为 CSS 变量定义字符串。</p><ul><li><strong>格式</strong>: <code>key: value</code> -&gt; <code>--prefix-key: value;</code></li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> colors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { base: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#fff&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#000&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> css</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cssVarGen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;primary&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, colors);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(css);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出: &quot;--primary-base: #fff; --primary-text: #000&quot;</span></span></code></pre></div><h2 id="类名操作" tabindex="-1">类名操作 <a class="header-anchor" href="#类名操作" aria-label="Permalink to &quot;类名操作&quot;">​</a></h2><p><strong>tClass</strong> 提供了一组安全操作 DOM <code>classList</code> 的封装方法，防止因元素不存在导致的报错。</p><h3 id="基础方法" tabindex="-1">基础方法 <a class="header-anchor" href="#基础方法" aria-label="Permalink to &quot;基础方法&quot;">​</a></h3><ul><li><strong>add(el, cls)</strong>: 添加类名。</li><li><strong>del(el, cls)</strong>: 删除类名。</li><li><strong>has(el, cls)</strong>: 判断是否包含类名。</li><li><strong>toggle(el, cls)</strong>: 切换类名。</li><li><strong>list(el)</strong>: 获取类名列表 (<code>classList</code>)。</li></ul><h3 id="replace-el-prefix-suffix" tabindex="-1">replace(el, prefix, suffix) <a class="header-anchor" href="#replace-el-prefix-suffix" aria-label="Permalink to &quot;replace(el, prefix, suffix)&quot;">​</a></h3><p><strong>前缀替换</strong>。这是 TechUI 状态切换的核心方法。 它会查找元素上所有以 <code>prefix</code> 开头的类名，如果后缀不匹配，则将其删除，并添加新的 <code>\${prefix}\${suffix}</code> 类名。</p><ul><li><strong>场景</strong>: 用于切换状态类，如从 <code>status-loading</code> 切换到 <code>status-success</code>。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 假设 el 当前类名: &quot;btn status-loading&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 切换状态为 success</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tClass.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(el, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;status-&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;success&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 结果类名: &quot;btn status-success&quot; (旧的 status-loading 被自动移除)</span></span></code></pre></div><h2 id="主题注册" tabindex="-1">主题注册 <a class="header-anchor" href="#主题注册" aria-label="Permalink to &quot;主题注册&quot;">​</a></h2><p><strong>tTheme</strong> 是 <code>ThemeManager</code> 类的单例实例，作为 TechUI 的<strong>全局主题注册中心</strong>。</p><h3 id="ttheme-register-config" tabindex="-1">tTheme.register(config) <a class="header-anchor" href="#ttheme-register-config" aria-label="Permalink to &quot;tTheme.register(config)&quot;">​</a></h3><p>注册一个新的主题配置对象。这通常在应用启动时由主题包自动调用。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tTheme.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;darkBlue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;深空蓝&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scheme: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dark&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  colors: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#000&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#fff&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data: { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="ttheme-load" tabindex="-1">tTheme.load() <a class="header-anchor" href="#ttheme-load" aria-label="Permalink to &quot;tTheme.load()&quot;">​</a></h3><p>获取所有已注册的主题配置。</p><h3 id="ttheme-loadindex" tabindex="-1">tTheme.loadIndex() <a class="header-anchor" href="#ttheme-loadindex" aria-label="Permalink to &quot;tTheme.loadIndex()&quot;">​</a></h3><p>获取主题的摘要列表（仅包含标识、名称、色系和预览色），通常用于构建“主题切换器” UI 组件。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> themeList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tTheme.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [{ value: &#39;darkBlue&#39;, label: &#39;深空蓝&#39;, ... }]</span></span></code></pre></div>`,32)])])}const g=i(l,[["render",n]]);export{c as __pageData,g as default};
