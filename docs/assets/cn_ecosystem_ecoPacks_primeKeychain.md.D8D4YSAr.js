import{_ as i,c as s,o as a,aj as n}from"./chunks/framework.DPdjieCD.js";const g=JSON.parse('{"title":"@TechUI/Prime-Keychain 简介","description":"","frontmatter":{},"headers":[],"relativePath":"cn/ecosystem/ecoPacks/primeKeychain.md","filePath":"cn/ecosystem/ecoPacks/primeKeychain.md"}'),t={name:"cn/ecosystem/ecoPacks/primeKeychain.md"};function r(o,e,c,l,h,p){return a(),s("div",null,[...e[0]||(e[0]=[n(`<h1 id="techui-prime-keychain-简介" tabindex="-1">@TechUI/Prime-Keychain 简介 <a class="header-anchor" href="#techui-prime-keychain-简介" aria-label="Permalink to &quot;@TechUI/Prime-Keychain 简介&quot;">​</a></h1><p><strong>TechUI Prime Keychain (密钥串)</strong> 是 TechUI 旗舰版安全体系中的<strong>关键加密组件</strong>，也是 Prime 运行时的<strong>必要依赖</strong>。</p><p>如果说 <code>@techui/prime</code> 是精密的银行保险箱，那么您的 License Key 是第一把钥匙，而 <code>@techui/prime-keychain</code> 则保管着银行持有的<strong>第二把钥匙</strong>。两者必须同时在场，核心引擎才能通过<strong>双因子验证</strong>，解锁完整功能。</p><p><strong>一句话总结：它是 Prime 旗舰版的“公钥仓库”，是激活重许可机制的物理载体。</strong></p><h2 id="核心定位" tabindex="-1">核心定位 <a class="header-anchor" href="#核心定位" aria-label="Permalink to &quot;核心定位&quot;">​</a></h2><p>在 TechUI 的 <strong>重许可 (Heavy License)</strong> 机制中，<code>prime-keychain</code> 扮演着不可或缺的角色。它不是一个 UI 组件库，不包含任何可见的界面元素，它只做一件事：<strong>为 Wasm 核心提供解密上下文</strong>。</p><ul><li><strong>🔒 安全基石</strong>：它包含了经过混淆处理的公钥片段与验证算法所需的种子数据。</li><li><strong>🔗 强制依赖</strong>：它是 <code>@techui/prime</code> 的 Peer Dependency。如果没有安装此包，Prime 将无法完成初始化校验，自动降级至 <a href="/docs/prime/intro.html%23无限体验模式-unlimited-trial.html">体验模式</a>。</li><li><strong>📦 版本绑定</strong>：它与 Prime 的版本紧密挂钩，随组件库更新而更新，确保加密算法的时效性。</li></ul><h2 id="工作原理-双因子解密" tabindex="-1">工作原理 双因子解密 <a class="header-anchor" href="#工作原理-双因子解密" aria-label="Permalink to &quot;工作原理 双因子解密&quot;">​</a></h2><p>TechUI Prime 采用了金融级强度的<strong>双因子解密机制 (Two-Factor Decryption)</strong>。<code>prime-keychain</code> 在此流程中与您手中的 Client Key 共同协作，形成闭环。</p><p>以下是 Wasm 引擎初始化时的内部七步流程，展示了 <code>prime-keychain</code> 的作用时机：</p><ol><li><strong>提取指纹</strong>：Wasm 引擎首先读取您传入的 <strong>Client Key</strong> (私有凭证)，提取其中的 Key ID。</li><li><strong>定位公钥 (关键步骤)</strong> 🎯：引擎根据 ID，在 <code>@techui/prime-keychain</code> 的内存段中查找匹配的 <strong>Npm 密钥</strong>。</li><li><strong>第一层解密</strong>：Wasm 对 Npm 密钥进行自举解密，获得解密用的“私钥种子”。</li><li><strong>身份解锁</strong>：使用“私钥种子”对您的 <strong>Client Key</strong> 进行解密，验证签名合法性。</li><li><strong>基础信息提取</strong>：获取许可证的基础元数据（如 <code>company</code> 公司名, <code>region</code> 地区）。</li><li><strong>第二层解密</strong>：结合上述结果，解密 <strong>配置参数密钥 (Config Key)</strong>，获取详细的功能开关。</li><li><strong>终极校验</strong>：输出最终的 <code>Boolean</code> 验证结果，决定是否放行。</li></ol><blockquote><p><strong>也就是：</strong> 只有当您的 <code>Client Key</code> 和 <code>prime-keychain</code> 中的公钥完美配对时，锁才会打开。</p></blockquote><h2 id="安装与集成" tabindex="-1">安装与集成 <a class="header-anchor" href="#安装与集成" aria-label="Permalink to &quot;安装与集成&quot;">​</a></h2><p>由于其特殊性，通常您不需要在代码中显式调用它的 API，只需确保它存在于项目依赖中。</p><h3 id="安装命令" tabindex="-1">安装命令 <a class="header-anchor" href="#安装命令" aria-label="Permalink to &quot;安装命令&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># npm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @techui/prime-keychain</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># yarn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @techui/prime-keychain</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># pnpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @techui/prime-keychain</span></span></code></pre></div><h3 id="项目集成" tabindex="-1">项目集成 <a class="header-anchor" href="#项目集成" aria-label="Permalink to &quot;项目集成&quot;">​</a></h3><p>请参考 <a href="/docs/cn/tuiPrime/start/license.html">Prime-配置许可证</a> 章节进行集成和配置</p>`,18)])])}const m=i(t,[["render",r]]);export{g as __pageData,m as default};
