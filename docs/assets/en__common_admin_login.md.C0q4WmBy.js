import{_ as i,o as t,c as a,ah as n}from"./chunks/framework.PKn7PQPU.js";const g=JSON.parse('{"title":"Login Page","description":"","frontmatter":{},"headers":[],"relativePath":"en/_common/admin/login.md","filePath":"en/_common/admin/login.md"}'),e={name:"en/_common/admin/login.md"};function l(o,s,h,d,r,p){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="login-page" tabindex="-1">Login Page <a class="header-anchor" href="#login-page" aria-label="Permalink to &quot;Login Page&quot;">​</a></h1><p>The TechUI Workbench module provides a highly encapsulated login page component <code>&lt;TuiLogin&gt;</code>. It not only includes complete form validation, loading state management, and captcha logic, but also supports flexible layout positioning and background style switching, helping developers build beautiful authentication pages in minutes.</p><h2 id="component-features" tabindex="-1">Component Features <a class="header-anchor" href="#component-features" aria-label="Permalink to &quot;Component Features&quot;">​</a></h2><ul><li><strong>Flexible Layout:</strong> Supports displaying the form on the left, right, or center of the screen.</li><li><strong>Rich Backgrounds:</strong> Can invoke TechUI vector backgrounds, and also supports custom image backgrounds.</li><li><strong>Complete Interaction:</strong> Integrates common entry points like &quot;Forgot Password&quot;, &quot;Help&quot;, and loading states.</li><li><strong>Highly Customizable:</strong> Through the slot mechanism, you can embed Logos, theme switchers, or decorative panels (such as sci-fi style borders) around the login box.</li></ul><h2 id="basic-usage" tabindex="-1">Basic Usage <a class="header-anchor" href="#basic-usage" aria-label="Permalink to &quot;Basic Usage&quot;">​</a></h2><p>Import and use this component in <code>views/login.vue</code>:</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { reactive, inject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useRouter } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue-router&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Inject global services</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">routerTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Define form data reference</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> loginCfg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reactive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  form: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    username: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    password: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    captcha: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  loading: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  position: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;right&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Form position</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  backgroundType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  enableCaptcha: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Handle login logic</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleLogin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">formData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  loginCfg.loading </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Simulate API request</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // await apiLogin(formData);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    $tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Login successful&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;success&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Execute route transition with animation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    routerTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    loginCfg.loading </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiLogin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    v-bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;loginCfg&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @login</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;handleLogin&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> #logo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiSystemLogo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiLogin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h2><h3 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Property Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><strong>form</strong></td><td><code>Object</code></td><td>(Required)</td><td>Form data object, must contain <code>username</code> and <code>password</code> fields.</td></tr><tr><td><strong>position</strong></td><td><code>String</code></td><td><code>&#39;center&#39;</code></td><td>The position of the login box on the screen. Options: <code>&#39;center&#39;</code>, <code>&#39;left&#39;</code>, <code>&#39;right&#39;</code>.</td></tr><tr><td><strong>backgroundType</strong></td><td><code>String</code></td><td><code>&#39;vector&#39;</code></td><td>Background rendering mode. Options: <code>&#39;image&#39;</code> (Image), <code>&#39;gradient&#39;</code> (Gradient), <code>&#39;vector&#39;</code> (Vector Graphics).</td></tr><tr><td><strong>backgroundImage</strong></td><td><code>String</code></td><td>-</td><td>The URL address of the image when <code>backgroundType</code> is <code>&#39;image&#39;</code>.</td></tr><tr><td><strong>loading</strong></td><td><code>Boolean</code></td><td><code>false</code></td><td>Whether the login button is in a loading state.</td></tr><tr><td><strong>enableCaptcha</strong></td><td><code>Boolean</code></td><td><code>true</code></td><td>Whether to display the captcha input box.</td></tr><tr><td><strong>captchaImg</strong></td><td><code>String</code></td><td><code>&#39;ERROR&#39;</code></td><td>Base64 or URL of the captcha image.</td></tr><tr><td><strong>formSize</strong></td><td><code>String</code></td><td><code>&#39;large&#39;</code></td><td>The size of the form controls. Options: <code>&#39;small&#39;</code>, <code>&#39;default&#39;</code>, <code>&#39;large&#39;</code>.</td></tr><tr><td><strong>rules</strong></td><td><code>Object</code></td><td>-</td><td>Custom form validation rules (compatible with common UI library rule formats).</td></tr><tr><td><strong>usernamePlaceholder</strong></td><td><code>String</code></td><td>-</td><td>Placeholder text for the username input box.</td></tr><tr><td><strong>passwordPlaceholder</strong></td><td><code>String</code></td><td>-</td><td>Placeholder text for the password input box.</td></tr><tr><td><strong>captchaPlaceholder</strong></td><td><code>String</code></td><td>-</td><td>Placeholder text for the captcha input box.</td></tr><tr><td><strong>loginButtonText</strong></td><td><code>String</code></td><td>-</td><td>Text for the login button.</td></tr><tr><td><strong>helpText</strong></td><td><code>String</code></td><td>-</td><td>Text for the &quot;Help&quot; link.</td></tr><tr><td><strong>forgetText</strong></td><td><code>String</code></td><td>-</td><td>Text for the &quot;Forgot Password&quot; link.</td></tr></tbody></table><h3 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Event Name</th><th>Description</th><th>Callback Parameters</th></tr></thead><tbody><tr><td><strong>login</strong></td><td>Triggered when form validation passes and the user clicks the login button.</td><td><code>(formData: Object)</code></td></tr><tr><td><strong>help</strong></td><td>Triggered when the user clicks the &quot;Help&quot; link.</td><td>-</td></tr><tr><td><strong>forget</strong></td><td>Triggered when the user clicks the &quot;Forgot Password&quot; link.</td><td>-</td></tr><tr><td><strong>validate</strong></td><td>Triggered when form validation completes, returning the validation result.</td><td><code>(result: Boolean)</code></td></tr><tr><td><strong>captchaError</strong></td><td>Triggered when captcha validation logic (if any) fails.</td><td>-</td></tr></tbody></table><h3 id="slots" tabindex="-1">Slots <a class="header-anchor" href="#slots" aria-label="Permalink to &quot;Slots&quot;">​</a></h3><p><code>&lt;TuiLogin&gt;</code> provides rich slots for extending the UI:</p><ul><li><strong><code>#logo</code></strong>: Used to place the system Logo, usually located at the top of the login box.</li><li><strong><code>#extra</code></strong>: Used to place extra control components, such as a theme switcher (<code>TuiThemeToggle</code>) or control panel switches.</li><li><strong><code>#border</code></strong>: Used to add decorative border components around the login box (e.g., <code>ScifiPanelAlpha</code>), commonly used to build sci-fi style login pages.</li></ul><h2 id="business-logic-best-practices" tabindex="-1">Business Logic Best Practices <a class="header-anchor" href="#business-logic-best-practices" aria-label="Permalink to &quot;Business Logic Best Practices&quot;">​</a></h2><p>In the <code>handleLogin</code> event callback, it is recommended to handle business logic in the following steps:</p><ol><li><strong>Enable Loading:</strong> Set the <code>loading</code> property to <code>true</code>.</li><li><strong>API Call:</strong> Send the username and password to the backend interface.</li><li><strong>State Writing:</strong></li></ol><ul><li>Upon success, write the Token and UserID to the global state <code>$ADMIN.value.userInfo</code>.</li><li>TuiProvider&#39;s global <code>watch</code> will automatically encrypt and persist this information to local storage.</li></ul><ol start="4"><li><strong>Menu Handling:</strong></li></ol><ul><li>If it is the first login, you can manually fetch menu data and write it to <code>$ADMIN.value.menu</code>.</li><li>Alternatively, rely on the global Provider&#39;s automatic restoration mechanism.</li></ul><ol start="5"><li><strong>Route Navigation:</strong></li></ol><ul><li>Use <code>routerTransition</code> to navigate.</li><li>Check the route parameter <code>route.query.redirect</code>. If it exists, jump back to that address; otherwise, jump to the homepage.</li></ul><ol start="6"><li><strong>Error Handling:</strong> If the API fails, turn off <code>loading</code> and display an error message.</li></ol>`,24)])])}const c=i(e,[["render",l]]);export{g as __pageData,c as default};
