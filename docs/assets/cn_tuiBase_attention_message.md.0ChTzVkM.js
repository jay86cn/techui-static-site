import{_ as t,c as i,o as a,aj as e}from"./chunks/framework.DPdjieCD.js";const g=JSON.parse('{"title":"消息","description":"","frontmatter":{},"headers":[],"relativePath":"cn/tuiBase/attention/message.md","filePath":"cn/tuiBase/attention/message.md"}'),n={name:"cn/tuiBase/attention/message.md"};function l(h,s,d,p,o,k){return a(),i("div",null,[...s[0]||(s[0]=[e(`<h1 id="消息" tabindex="-1">消息 <a class="header-anchor" href="#消息" aria-label="Permalink to &quot;消息&quot;">​</a></h1><p><strong>Message (消息)</strong> 是最基础的全局反馈组件。它通常用于主动操作后的反馈提示（如“保存成功”、“删除失败”），以轻量级、非模态的形式出现在页面顶部，默认 3 秒后自动消失，不打断用户操作。</p><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;">​</a></h2><p>通过 <code>$tMessage</code> 方法即可创建一个消息实例。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { inject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. 基础文本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这是一条普通消息&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. 指定类型 (会自动匹配对应的图标和颜色)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;数据保存成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="进阶特性" tabindex="-1">进阶特性 <a class="header-anchor" href="#进阶特性" aria-label="Permalink to &quot;进阶特性&quot;">​</a></h2><h3 id="视觉层级-tone" tabindex="-1">视觉层级 (Tone) <a class="header-anchor" href="#视觉层级-tone" aria-label="Permalink to &quot;视觉层级 (Tone)&quot;">​</a></h3><p>除了标准的语义类型（Type）外，Message 还支持通过 <code>tone</code> 属性调整视觉强弱，以适应不同的背景色或强调需求。</p><p>支持的色调值：</p><ul><li><code>weak</code>: 淡雅，适合极简风格。</li><li><code>base</code> (默认): 标准，平衡感最好。</li><li><code>strong</code>: 强色调，填充感更强。</li><li><code>strongInvert</code>: 强反色。</li><li><code>extremeInvert</code>: 极反色，高对比度。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;高对比度提醒&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;primary&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tone: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;strong&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="回调函数" tabindex="-1">回调函数 <a class="header-anchor" href="#回调函数" aria-label="Permalink to &quot;回调函数&quot;">​</a></h3><p>支持传入 <code>onClose</code> 回调函数，当消息关闭（无论是倒计时结束还是用户手动点击）时触发。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;操作完成&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onClose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;消息已关闭，开始下一步操作...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/home&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="消息分组-grouping" tabindex="-1">消息分组 (Grouping) <a class="header-anchor" href="#消息分组-grouping" aria-label="Permalink to &quot;消息分组 (Grouping)&quot;">​</a></h3><p>当短时间内连续触发多条<strong>内容相同</strong>的消息时，开启 <code>grouping</code> 可以将它们合并为一条，并显示计数徽标，避免刷屏。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 连续调用3次，界面上只会显示一个消息框，右侧计数为 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;保存成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, grouping: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><h3 id="堆叠与位置" tabindex="-1">堆叠与位置 <a class="header-anchor" href="#堆叠与位置" aria-label="Permalink to &quot;堆叠与位置&quot;">​</a></h3><p>Message 属于调度器的 <strong>并行通道</strong>。多条消息会自动垂直堆叠。您可以通过 <code>position</code> 参数改变其弹出位置。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;底部弹出的消息&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  position: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bottom-center&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="全局方法" tabindex="-1">全局方法 <a class="header-anchor" href="#全局方法" aria-label="Permalink to &quot;全局方法&quot;">​</a></h2><h3 id="tmessage-options" tabindex="-1"><code>$tMessage(options)</code> <a class="header-anchor" href="#tmessage-options" aria-label="Permalink to &quot;\`$tMessage(options)\`&quot;">​</a></h3><p>创建并显示一条消息。返回一个包含 <code>destroy()</code> 方法的实例对象。</p><h3 id="tmessagecloseall" tabindex="-1"><code>$tMessageCloseAll()</code> <a class="header-anchor" href="#tmessagecloseall" aria-label="Permalink to &quot;\`$tMessageCloseAll()\`&quot;">​</a></h3><p>立即关闭当前所有显示的消息实例。</p><h2 id="api-参考" tabindex="-1">API 参考 <a class="header-anchor" href="#api-参考" aria-label="Permalink to &quot;API 参考&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>content</strong></td><td style="text-align:left;">String</td><td style="text-align:left;">(必填)</td><td style="text-align:left;">消息文本内容。</td></tr><tr><td style="text-align:left;"><strong>type</strong></td><td style="text-align:left;">String</td><td style="text-align:left;"><code>&#39;info&#39;</code></td><td style="text-align:left;">消息类型：<code>primary</code>, <code>success</code>, <code>warning</code>, <code>danger/error</code>, <code>info</code>, <code>emphasis</code>, <code>focus</code>。</td></tr><tr><td style="text-align:left;"><strong>tone</strong></td><td style="text-align:left;">String</td><td style="text-align:left;"><code>&#39;base&#39;</code></td><td style="text-align:left;">视觉色调。可选值：<code>&#39;weak&#39;</code>, <code>&#39;base&#39;</code>, <code>&#39;strong&#39;</code>, <code>&#39;strongInvert&#39;</code>, <code>&#39;extremeInvert&#39;</code>。</td></tr><tr><td style="text-align:left;"><strong>duration</strong></td><td style="text-align:left;">Number</td><td style="text-align:left;"><code>3000</code></td><td style="text-align:left;">显示时间 (毫秒)。设为 <code>0</code> 则不会自动关闭。</td></tr><tr><td style="text-align:left;"><strong>onClose</strong></td><td style="text-align:left;">Function</td><td style="text-align:left;">-</td><td style="text-align:left;">关闭时的回调函数。</td></tr><tr><td style="text-align:left;"><strong>position</strong></td><td style="text-align:left;">String</td><td style="text-align:left;"><code>&#39;top-center&#39;</code></td><td style="text-align:left;">弹出位置。可选：<code>top</code>, <code>top-left</code>, <code>top-right</code>, <code>bottom</code>, <code>bottom-left</code>, <code>bottom-right</code> 以及对应的 <code>center</code> 组合。</td></tr><tr><td style="text-align:left;"><strong>grouping</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>false</code></td><td style="text-align:left;">是否合并相同内容的消息。</td></tr><tr><td style="text-align:left;"><strong>showClose</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>true</code></td><td style="text-align:left;">是否显示关闭按钮 (当 duration 为 0 时建议开启)。</td></tr><tr><td style="text-align:left;"><strong>icon</strong></td><td style="text-align:left;">String</td><td style="text-align:left;">-</td><td style="text-align:left;">自定义图标类名（覆盖默认类型图标）。</td></tr><tr><td style="text-align:left;"><strong>hideIcon</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>false</code></td><td style="text-align:left;">是否隐藏图标。</td></tr><tr><td style="text-align:left;"><strong>transparent</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>true</code></td><td style="text-align:left;">是否启用半透明背景。</td></tr><tr><td style="text-align:left;"><strong>backgroundBlur</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>true</code></td><td style="text-align:left;">是否启用背景模糊 (Backdrop Filter)。</td></tr><tr><td style="text-align:left;"><strong>hasShadow</strong></td><td style="text-align:left;">Boolean</td><td style="text-align:left;"><code>true</code></td><td style="text-align:left;">是否显示阴影。</td></tr><tr><td style="text-align:left;"><strong>shadowColor</strong></td><td style="text-align:left;">String</td><td style="text-align:left;"><code>&#39;weak&#39;</code></td><td style="text-align:left;">阴影强度等级。</td></tr><tr><td style="text-align:left;"><strong>className</strong></td><td style="text-align:left;">String</td><td style="text-align:left;">-</td><td style="text-align:left;">自定义 CSS 类名。</td></tr><tr><td style="text-align:left;"><strong>appendTo</strong></td><td style="text-align:left;">String/Object</td><td style="text-align:left;">-</td><td style="text-align:left;">指定挂载容器。默认使用全局配置的浮动层容器。</td></tr></tbody></table><h2 id="全局配置" tabindex="-1">全局配置 <a class="header-anchor" href="#全局配置" aria-label="Permalink to &quot;全局配置&quot;">​</a></h2><p>全局配置对象 <code>$attentionConfig</code> 是<strong>响应式</strong>的。您可以在运行时动态修改配置，修改后的设置将立即对新创建的消息生效。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { inject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$attentionConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 动态修改默认位置和时长</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  $attentionConfig.value.message.position </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;top-right&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  $attentionConfig.value.message.duration </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  $attentionConfig.value.message.offset </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 顶部初始间距</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="全局-esc-监控" tabindex="-1">全局 ESC 监控 <a class="header-anchor" href="#全局-esc-监控" aria-label="Permalink to &quot;全局 ESC 监控&quot;">​</a></h2><p>为了提供高效且符合直觉的交互体验，本组件深度集成了全局 <code>escCounter</code> 监控。当用户按下 <code>Esc</code> 键时，所有当前显示的通知实例将会被自动销毁。这允许用户通过键盘快速清理屏幕上的临时信息，无需逐个手动点击关闭。</p>`,32)])])}const c=t(n,[["render",l]]);export{g as __pageData,c as default};
