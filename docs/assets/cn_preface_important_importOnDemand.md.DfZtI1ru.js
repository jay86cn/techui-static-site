import{_ as t,c as r,o as n,aj as s}from"./chunks/framework.DPdjieCD.js";const m=JSON.parse('{"title":"不支持按需引入","description":"","frontmatter":{},"headers":[],"relativePath":"cn/preface/important/importOnDemand.md","filePath":"cn/preface/important/importOnDemand.md"}'),e={name:"cn/preface/important/importOnDemand.md"};function a(i,o,l,p,g,c){return n(),r("div",null,[...o[0]||(o[0]=[s('<h1 id="不支持按需引入" tabindex="-1">不支持按需引入 <a class="header-anchor" href="#不支持按需引入" aria-label="Permalink to &quot;不支持按需引入&quot;">​</a></h1><p>在现代前端工程化中，“按需引入 (Tree Shaking)” 似乎已成为行业标配。然而，TechUI 基于其独特的技术架构与产品定位，<strong>设计之初便决定不支持按需引入</strong>。</p><p>这是一个反直觉但经过深思熟虑的决策。以下是我们放弃这一特性的核心原因。</p><h2 id="架构限制-wasm-的整体性" tabindex="-1">架构限制 Wasm 的整体性 <a class="header-anchor" href="#架构限制-wasm-的整体性" aria-label="Permalink to &quot;架构限制 Wasm 的整体性&quot;">​</a></h2><p>TechUI 的核心并不是一组散落的 JavaScript 文件，而是一个编译后的 <strong>WebAssembly (Rust)</strong> 二进制模块。</p><ul><li><strong>动态计算依赖</strong>：TechUI 中 90% 以上的 SVG 路径、科幻动态效果及 3D 姿态解算，均由 Wasm 模块在运行时通过数学公式实时生成，而非静态的 SVG 文件。</li><li><strong>二进制不可拆分</strong>：Wasm 模块类似于一个编译好的 <code>.exe</code> 或 <code>.so</code> 库文件。你无法像拆分 JS 代码那样，仅“引入一半的二进制代码”。为了保证核心算法（如 <code>TEMPLATE</code> 引擎、<code>ENC</code> 加密）的完整运行，必须全量加载 Wasm 核心。</li></ul><h2 id="商业保护-源码闭源" tabindex="-1">商业保护 源码闭源 <a class="header-anchor" href="#商业保护-源码闭源" aria-label="Permalink to &quot;商业保护 源码闭源&quot;">​</a></h2><p>TechUI 是一款<strong>商业闭源</strong>的组件库，而非开源社区项目。</p><ul><li><strong>打包即保护</strong>：支持“按需引入”通常意味着需要发布未经打包的源码（ESM），并允许构建工具分析代码依赖树。这会直接暴露我们的核心实现逻辑。</li><li><strong>防逆向工程</strong>：为了保护知识产权，我们在发布前对所有组件进行了深度打包混淆。这种“整包发布”策略是防篡改机制的第一道防线。</li></ul><h2 id="开发哲学-效率至上" tabindex="-1">开发哲学 效率至上 <a class="header-anchor" href="#开发哲学-效率至上" aria-label="Permalink to &quot;开发哲学 效率至上&quot;">​</a></h2><p>TechUI 的设计初衷是服务于<strong>高强度的企业级开发</strong>场景（如外包交付、紧急大屏项目）。我们认为，开发者的<strong>时间价值</strong>远高于用户的<strong>带宽成本</strong>。</p><ul><li><p><strong>开箱即用 (Batteries Included)</strong>：我们推崇“全量注册”模式。开发者无需在每个页面重复 import 每一个图标或组件。</p></li><li><p>❌ <strong>繁琐</strong>：<code>import { TuiButton, TuiIconUser, ... } from ...</code></p></li><li><p>✅ <strong>高效</strong>：<code>app.use(TechUI)</code> 后，在任意位置直接使用 <code>&lt;TuiButton /&gt;</code>。</p></li><li><p><strong>心流体验</strong>：在构建复杂大屏时，无需为了节省几 KB 的体积而打断思路去查找和配置组件引用，能显著提升开发的心流体验。</p></li></ul><h2 id="性能辩证-5g-时代的带宽观" tabindex="-1">性能辩证 5G 时代的带宽观 <a class="header-anchor" href="#性能辩证-5g-时代的带宽观" aria-label="Permalink to &quot;性能辩证 5G 时代的带宽观&quot;">​</a></h2><p>对于 TechUI 服务的 B2B / G2B（政府/企业）应用场景，我们将<strong>首屏加载速度</strong>的优化重心放在了“网络环境”与“缓存策略”上，而非单纯的包体积。</p><ul><li><strong>带宽冗余</strong>：在 4G/5G 及光纤普及的今天，加载一个 800KB+ 的 Wasm 包（Gzip 后更小）通常仅需几百毫秒。为了节省几十 KB 而牺牲开发效率，在现代网络环境下属于过度优化。</li><li><strong>长效缓存</strong>：Wasm 模块及组件库代码一旦加载，便会被浏览器强缓存。对于企业内部系统（Intranet）或高频访问的大屏系统，用户仅在首次访问时需要下载资源，后续访问均为<strong>零网络开销</strong>。</li><li><strong>流式编译</strong>：得益于 Wasm 的 Streaming Compilation 特性，其解析和执行速度远快于同体积的 JavaScript 代码，因此实际的“可交互时间 (TTI)”并不会因为包体积大而显著滞后。</li></ul><p>这是一个非常棒的类比。通过引用大家熟知的操作系统和软件，可以有力地证明“冗余”在工程设计中往往代表着“能力储备”和“系统健壮性”，而非单纯的累赘。</p><p>我将原来的“二八法则”部分进行了深度扩充，融入了您要求的 iPhone、Windows 和 Android 等案例，使其成为一个极具说服力的章节。</p><h2 id="二八法则与冗余哲学" tabindex="-1">二八法则与冗余哲学 <a class="header-anchor" href="#二八法则与冗余哲学" aria-label="Permalink to &quot;二八法则与冗余哲学&quot;">​</a></h2><p>TechUI 遵循“二八法则”的逆向思维：<strong>虽然 80% 的用户可能只用到 20% 的功能，但我们无法预知这 20% 具体是哪些。</strong></p><p>在软件工程中，“大而全”的设计往往被误解为臃肿，但实际上它代表了 <strong>“能力完备性 (Capability Completeness)”</strong>。请回想一下我们日常使用的顶级数字产品，无一不是这一哲学的践行者：</p><ul><li><p><strong>📱 iPhone / Android 系统</strong>： 您的手机操作系统动辄占据 10GB+ 的空间。其中包含了您可能永远用不到的 LiDAR 激光雷达驱动、盲人辅助功能 (VoiceOver)、以及几十种您看不懂的各国语言字库。</p><p><strong>为什么不删除？</strong> 因为当您偶尔需要扫描一个二维码，或者调整一次字体大小时，系统必须<strong>即刻响应</strong>，而不是提示您“正在下载模块”。</p></li><li><p><strong>💻 Windows / macOS</strong>： 操作系统预装了数以万计的打印机驱动和通用硬件接口，尽管您家里可能只有一台打印机。</p><p><strong>价值在于</strong>：当您接入新设备时，它能“即插即用”。TechUI 的全量引入也是为了让开发者在需要某个图表时，能<strong>即写即用</strong>。</p></li><li><p><strong>🌐 复杂 SaaS / 网站功能</strong>： 想一想 Microsoft Excel 或 Photoshop。绝大多数用户终其一生只掌握了其 5% 的功能（如求和、裁剪）。</p><p><strong>关键点</strong>：但这并不意味着剩下的 95% 是多余的。因为<strong>每个用户所需要的“那 5%”是不一样的</strong>。A 用户需要数据透视表，B 用户需要宏命令。只有提供 100% 的功能集，才能满足所有人的“个性化 5%”。</p></li></ul><p><strong>TechUI Prime 也是如此。</strong> 因为我们预置了全量代码，您只需修改一行配置即可实现，而无需重新配置构建工具、排查依赖冲突或下载新的插件。</p><p><strong>冗余，有时即是最大的便捷。</strong></p><div class="tip custom-block"><p class="custom-block-title">📦 体积说明</p><p>目前 TechUI Prime (含 Wasm 核心) 的 Gzip 压缩体积约为 <strong>1MB ~ 2MB</strong>（视版本而定）。在现代企业级宽带环境下，这属于完全可接受的范围。</p></div>',24)])])}const h=t(e,[["render",a]]);export{m as __pageData,h as default};
