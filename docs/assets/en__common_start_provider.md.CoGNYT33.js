import{_ as e,c as s,o,aj as i}from"./chunks/framework.DPdjieCD.js";const g=JSON.parse('{"title":"Provider","description":"","frontmatter":{},"headers":[],"relativePath":"en/_common/start/provider.md","filePath":"en/_common/start/provider.md"}'),a={name:"en/_common/start/provider.md"};function n(r,t,d,l,c,h){return o(),s("div",null,[...t[0]||(t[0]=[i(`<h1 id="provider" tabindex="-1">Provider <a class="header-anchor" href="#provider" aria-label="Permalink to &quot;Provider&quot;">​</a></h1><p><code>&lt;TuiProvider&gt;</code> is the top-level component of the <strong>TechUI</strong> component library, acting as the unified Provider for global state, services, configuration, and core functions. You need to use this component at the outermost layer of your application to ensure the proper functioning of all <strong>TechUI</strong> features and the effectiveness of global configurations.</p><h2 id="component-functions" tabindex="-1">Component Functions <a class="header-anchor" href="#component-functions" aria-label="Permalink to &quot;Component Functions&quot;">​</a></h2><p>This component is the core entry point of the application, primarily responsible for the following functions:</p><ul><li><strong>Global State &amp; Service Injection:</strong> Uses the Vue <code>provide</code> mechanism to inject core services and states such as <code>$tService</code>, message notifications, masks, and loading states into all child components.</li><li><strong>Theme &amp; Style Management:</strong> Listens for global theme changes (<code>$gTheme</code>, <code>$gThemeScheme</code>), updates CSS class names on the <code>body</code> in real-time, and initializes <strong>Echarts</strong> themes.</li><li><strong>View &amp; Router Transitions:</strong> Encapsulates <code>routerTransition</code> and <code>themeToggle</code> methods to provide route navigation and theme switching with transition animations.</li><li><strong>Route Interception &amp; Permission Control (Admin Features):</strong> When <strong>Admin Features</strong> are enabled, it handles route initialization, dynamic addition, login verification, and menu data persistence (via IndexedDB).</li><li><strong>System Event Handling:</strong> Listens for keyboard events (F11 full-screen toggle, Esc counting) and document click events.</li><li><strong>Device Information Awareness:</strong> Initializes and listens for device information (e.g., screen orientation, resolution, touch capability).</li><li><strong>Hard/Soft Reload:</strong> Provides <code>softReload</code> and <code>hardReload</code> methods.</li></ul><h2 id="how-to-use" tabindex="-1">How to Use <a class="header-anchor" href="#how-to-use" aria-label="Permalink to &quot;How to Use&quot;">​</a></h2><p>Place <code>&lt;TuiProvider&gt;</code> inside your Vue root component (e.g., <code>App.vue</code>), typically wrapping <code>&lt;router-view&gt;</code> or the main content of the application.</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">router-view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// No need to import TuiProvider via import; it is globally imported in main.js and can be used directly.</span></span></code></pre></div><h2 id="core-capabilities-provided" tabindex="-1">Core Capabilities Provided <a class="header-anchor" href="#core-capabilities-provided" aria-label="Permalink to &quot;Core Capabilities Provided&quot;">​</a></h2><p>The component provides a complete global context to all its descendant components via <code>provide(&#39;$global&#39;, ...)</code>. You can access it in any child component using the following method:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Or using destructuring</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$tMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">routerTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$tState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$global&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Below is a detailed list of all injectable objects:</p><h3 id="global-interaction-feedback-ui-feedback" tabindex="-1">Global Interaction &amp; Feedback (UI Feedback) <a class="header-anchor" href="#global-interaction-feedback-ui-feedback" aria-label="Permalink to &quot;Global Interaction &amp; Feedback (UI Feedback)&quot;">​</a></h3><p>This section includes services for all system popups, prompts, and masks, along with their corresponding closing methods.</p><table tabindex="0"><thead><tr><th>Service Name</th><th>Close/Destroy Method</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>$tMessage</code></strong></td><td><code>$tMessageCloseAll</code></td><td>Message alerts</td></tr><tr><td><strong><code>$tNotify</code></strong></td><td><code>$tNotifyCloseAll</code></td><td>Notification alerts</td></tr><tr><td><strong><code>$tToast</code></strong></td><td><code>$tToastClose</code></td><td>Lightweight toasts</td></tr><tr><td><strong><code>$tLoading</code></strong></td><td><code>$tLoadingClose</code></td><td>Global loading state</td></tr><tr><td><strong><code>$tMask</code></strong></td><td><code>$tMaskClose</code></td><td>Global mask layer (for modals or blocking operations)</td></tr><tr><td><strong><code>$tPopover</code></strong></td><td><code>$tPopoverCloaseAll</code></td><td>Popover service</td></tr><tr><td><strong><code>$tFlash</code></strong></td><td><code>$tFlashClose</code></td><td>Flash alerts</td></tr><tr><td><strong><code>$tAttentionDispatcher</code></strong></td><td><code>$tAttentionDispatcherClose</code></td><td>Attention dispatcher</td></tr></tbody></table><h3 id="routing-navigation-helpers-routing" tabindex="-1">Routing &amp; Navigation Helpers (Routing) <a class="header-anchor" href="#routing-navigation-helpers-routing" aria-label="Permalink to &quot;Routing &amp; Navigation Helpers (Routing)&quot;">​</a></h3><p>Provides enhanced routing capabilities, especially for parameter handling and transition animations.</p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>routerTransition</code></strong></td><td>Function</td><td><strong>Core Method</strong>. Executes route navigation with view transition animations. Supports automatic determination of forward/backward direction.</td></tr><tr><td><strong><code>updateRouteQuery</code></strong></td><td>Function</td><td>Updates the Query parameters of the current route, supporting <code>push</code> or <code>replace</code> modes.</td></tr><tr><td><strong><code>getRouteQuery</code></strong></td><td>Function</td><td>Retrieves route parameters. Returns all if no argument is passed; returns a single value if a string is passed; returns multiple values if an array is passed.</td></tr></tbody></table><h3 id="system-control-state-system-control" tabindex="-1">System Control &amp; State (System &amp; Control) <a class="header-anchor" href="#system-control-state-system-control" aria-label="Permalink to &quot;System Control &amp; State (System &amp; Control)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>$tState</code></strong></td><td>Object</td><td><strong>Core State Tree</strong>. Contains reactive data such as <code>globalConfig</code>, <code>deviceInfo</code>, <code>themePalette</code>, etc.</td></tr><tr><td><strong><code>$tBus</code></strong></td><td>Object</td><td>Global Event Bus for cross-component communication.</td></tr><tr><td><strong><code>$tService</code></strong></td><td>Object</td><td>A collection object containing all utility functions.</td></tr><tr><td><strong><code>themeToggle</code></strong></td><td>Function</td><td>Toggles the theme color scheme and automatically triggers the theme switch transition animation.</td></tr><tr><td><strong><code>softReload</code></strong></td><td>Function</td><td><strong>Soft Reload</strong>. Resets adaptive configurations and partial states without refreshing the browser.</td></tr><tr><td><strong><code>hardReload</code></strong></td><td>Function</td><td><strong>Hard Reload</strong>. Directly calls <code>window.location.reload()</code>.</td></tr><tr><td><strong><code>logout</code></strong></td><td>Function</td><td><strong>Logout</strong>. Clears user data, Token, and IndexedDB, then redirects to the login page (exists only when <code>isActAdminFeatures</code> is true).</td></tr><tr><td><strong><code>proxy</code></strong></td><td>Object</td><td>The Proxy object of the current component instance (usually used to access Vue global properties).</td></tr></tbody></table><h3 id="feature-flags" tabindex="-1">Feature Flags <a class="header-anchor" href="#feature-flags" aria-label="Permalink to &quot;Feature Flags&quot;">​</a></h3><p>Used to determine which module sets are currently enabled in the system. (Usually not needed for business development logic).</p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>isActAdminFeatures</code></strong></td><td>Boolean</td><td>Whether background management features (route permissions, menus, login interception) are enabled.</td></tr><tr><td><strong><code>isActEchartsFeatures</code></strong></td><td>Boolean</td><td>Whether Echarts chart support and automatic theme registration are enabled.</td></tr><tr><td><strong><code>isActAdvFeatures</code></strong></td><td>Boolean</td><td>Whether advanced features are enabled (specifically referring to the advanced feature set defined within the project).</td></tr></tbody></table>`,23)])])}const u=e(a,[["render",n]]);export{g as __pageData,u as default};
