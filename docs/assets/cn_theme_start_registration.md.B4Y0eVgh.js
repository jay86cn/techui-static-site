import{_ as i,o as a,c as n,ah as t}from"./chunks/framework.PKn7PQPU.js";const c=JSON.parse('{"title":"注册配置","description":"","frontmatter":{},"headers":[],"relativePath":"cn/theme/start/registration.md","filePath":"cn/theme/start/registration.md"}'),l={name:"cn/theme/start/registration.md"};function e(h,s,p,k,r,d){return a(),n("div",null,[...s[0]||(s[0]=[t(`<h1 id="注册配置" tabindex="-1">注册配置 <a class="header-anchor" href="#注册配置" aria-label="Permalink to &quot;注册配置&quot;">​</a></h1><p>在 TechUI 中，主题文件本身是独立的 JavaScript 模块。为了让系统能够识别并使用这些主题，您需要在应用启动时（通常在 <code>main.js</code> 或 <code>App.vue</code> 中）显式地引入它们。</p><h2 id="引入主题" tabindex="-1">引入主题 <a class="header-anchor" href="#引入主题" aria-label="Permalink to &quot;引入主题&quot;">​</a></h2><h3 id="默认行为" tabindex="-1">默认行为 <a class="header-anchor" href="#默认行为" aria-label="Permalink to &quot;默认行为&quot;">​</a></h3><p>如果您在项目中没有显式引入任何主题文件，TechUI 的核心包通常会默认加载 <code>lightBlue</code>（浅蓝）主题作为兜底，以确保应用能正常渲染。</p><h3 id="手动引入" tabindex="-1">手动引入 <a class="header-anchor" href="#手动引入" aria-label="Permalink to &quot;手动引入&quot;">​</a></h3><p>在实际开发中，建议您在入口文件中显式声明需要使用的主题。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// main.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 引入浅色主题 (必选推荐)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/themes/lightBlue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 引入深色主题 (可选)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/themes/darkBlue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 引入黑色主题 (可选)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/themes/darkBlack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>引入语句执行时，主题文件内部会自动调用注册函数，将其配置加入到 TechUI 的全局主题池中。</p><h2 id="单-多主题策略" tabindex="-1">单/多主题策略 <a class="header-anchor" href="#单-多主题策略" aria-label="Permalink to &quot;单/多主题策略&quot;">​</a></h2><p>TechUI 的全局服务会自动检测当前已注册的主题数量，并据此调整 UI 表现：</p><ul><li><p><strong>单主题模式</strong>： 当只引入一个主题时（例如仅引入了 <code>lightBlue</code>），系统会锁定主题切换功能。全局的 <code>&lt;TuiThemeToggle&gt;</code> 组件和控制面板中的主题切换选项将自动隐藏。</p></li><li><p><strong>多主题模式</strong>： 当引入两个或更多主题时，系统会自动激活主题切换功能。用户可以通过控制面板或切换组件在已注册的主题之间自由切换。</p></li></ul><h2 id="自定义注册" tabindex="-1">自定义注册 <a class="header-anchor" href="#自定义注册" aria-label="Permalink to &quot;自定义注册&quot;">​</a></h2><p>除了使用官方主题，您也可以创建并注册自定义主题。这需要使用 <code>@techui/utils</code> 包中的 <code>tTheme.register</code> 方法。</p><h3 id="注册函数-api" tabindex="-1">注册函数 API <a class="header-anchor" href="#注册函数-api" aria-label="Permalink to &quot;注册函数 API&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { tTheme } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tTheme.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  value: String,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 主题唯一标识符</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scheme: String,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 配色方案类型 (&#39;light&#39; | &#39;dark&#39;)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  colors: Array,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 主题代表色数组（用于在切换器中展示）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data: Object      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 完整的主题数据结构</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="注册示例" tabindex="-1">注册示例 <a class="header-anchor" href="#注册示例" aria-label="Permalink to &quot;注册示例&quot;">​</a></h3><p>创建一个名为 <code>myCustomTheme.js</code> 的文件：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// myCustomTheme.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { tTheme } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { $c } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@techui/colors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义主题数据</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> themeData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myCustom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  common: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bg: $c.wh,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bd: $c.gyl3,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... 其他配置项</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ... font, button, primary 等完整结构</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 执行注册</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tTheme.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myCustom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 关键：在全局配置中引用的名称</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scheme: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;light&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 关键：告诉系统这是浅色系主题</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  colors: [$c.rel5, $c.bll5], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在主题切换面板中显示的预览色块</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data: themeData</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="启用自定义主题" tabindex="-1">启用自定义主题 <a class="header-anchor" href="#启用自定义主题" aria-label="Permalink to &quot;启用自定义主题&quot;">​</a></h3><p>注册完成后，需要在全局配置 <code>$globalConfig</code> 中指定使用该主题，或者在引入后通过控制面板切换。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// main.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./path/to/myCustomTheme.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 引入文件以触发注册</span></span></code></pre></div><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 修改默认配置 (通常在 TechUIInit 或 Provide 配置中)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> globalConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  theme: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myCustom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 设置默认主题为自定义主题</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ol><li><strong>唯一性</strong>：<code>value</code> 字段必须全局唯一，否则后注册的主题会覆盖同名主题。</li><li><strong>完整性</strong>：自定义主题的 <code>data</code> 对象必须遵循 TechUI 的完整 Schema 结构（包含 <code>common</code>, <code>font</code>, <code>primary</code> 等所有必要字段），否则可能导致组件样式缺失或报错。</li><li><strong>构建优化</strong>：未被引入的主题文件不会被打包工具（Vite/Webpack）构建到最终产物中，因此引入多个主题会增加少量的包体积（主要是 JS 数据大小，无额外 CSS 文件）。</li></ol>`,25)])])}const E=i(l,[["render",e]]);export{c as __pageData,E as default};
