import{_ as i,o as a,c as t,ah as e}from"./chunks/framework.PKn7PQPU.js";const c=JSON.parse('{"title":"Layout Component","description":"","frontmatter":{},"headers":[],"relativePath":"en/_common/admin/layout.md","filePath":"en/_common/admin/layout.md"}'),n={name:"en/_common/admin/layout.md"};function l(o,s,h,r,p,d){return a(),t("div",null,[...s[0]||(s[0]=[e(`<h1 id="layout-component" tabindex="-1">Layout Component <a class="header-anchor" href="#layout-component" aria-label="Permalink to &quot;Layout Component&quot;">​</a></h1><p><code>&lt;TuiAdminLayout&gt;</code> is the skeleton component of the Workbench (Admin) module. It divides the system into a sidebar navigation area and a main content area, and is responsible for coordinating view rendering, caching, and interaction states.</p><p>This component is usually used as the root container for routes. It can also be wrapped inside an adaptive component to solve adaptation problems for different resolutions once and for all.</p><h2 id="component-structure" tabindex="-1">Component Structure <a class="header-anchor" href="#component-structure" aria-label="Permalink to &quot;Component Structure&quot;">​</a></h2><p>The layout component integrates the following core sub-modules internally:</p><ol><li><strong>LayoutSider (Sidebar):</strong> Responsible for displaying the system Logo, menu tree, and the auxiliary tool bar (Assist) at the bottom.</li><li><strong>LayoutTab (Tabs):</strong> Located at the top, displaying the currently open page tabs, supporting right-click menus and tab switching.</li><li><strong>Main Content:</strong> Contains <code>&lt;router-view&gt;</code> and integrates the <code>KeepAlive</code> caching mechanism, scrollbar management, and &quot;Back to Top&quot; functionality.</li></ol><h2 id="basic-usage" tabindex="-1">Basic Usage <a class="header-anchor" href="#basic-usage" aria-label="Permalink to &quot;Basic Usage&quot;">​</a></h2><p>In <code>views/layout.vue</code>, it is usually used in conjunction with the <code>&lt;TuiAdaptive&gt;</code> component:</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Assist </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./assist.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Import Assist component</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiAdaptive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiAdminLayout</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :viewBackground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> #logo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;logo-area&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/logo.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;TechUI Admin&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> #assist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">Assist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiAdminLayout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiAdaptive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h2><h3 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Property Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><strong>viewBackground</strong></td><td><code>Boolean</code></td><td><code>true</code></td><td>Whether to allow the current view to display a background image. When the global configuration <code>$gBackground</code> is set to <code>&#39;all&#39;</code>, this property can be used to finely control specific pages (such as the Dashboard) to show a background, while ordinary table pages show a solid color background.</td></tr></tbody></table><h3 id="slots" tabindex="-1">Slots <a class="header-anchor" href="#slots" aria-label="Permalink to &quot;Slots&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Slot Name</th><th>Description</th></tr></thead><tbody><tr><td><strong>logo</strong></td><td>The Logo area at the top of the sidebar.</td></tr><tr><td><strong>assist</strong></td><td>The auxiliary function area at the bottom of the sidebar (usually used for user avatars, settings, logout buttons, etc.).</td></tr></tbody></table><h2 id="core-features-and-logic" tabindex="-1">Core Features and Logic <a class="header-anchor" href="#core-features-and-logic" aria-label="Permalink to &quot;Core Features and Logic&quot;">​</a></h2><h3 id="view-caching-keepalive" tabindex="-1">View Caching (KeepAlive) <a class="header-anchor" href="#view-caching-keepalive" aria-label="Permalink to &quot;View Caching (KeepAlive)&quot;">​</a></h3><p>The component implements automated route caching internally through the global service <code>$AKeepAlive</code>.</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">router-view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-slot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{ Component }&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">keep-alive</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :include</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$AKeepAlive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">component</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Component&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">keep-alive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">router-view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><ul><li><strong>Working Principle:</strong> When a route jump occurs, the dynamic routing logic automatically adds the route name to the <code>$AKeepAlive</code> array based on the <code>meta.keepAlive</code> field in the route configuration, thereby activating Vue&#39;s caching mechanism.</li></ul><h3 id="page-refresh" tabindex="-1">Page Refresh <a class="header-anchor" href="#page-refresh" aria-label="Permalink to &quot;Page Refresh&quot;">​</a></h3><p>The component provides a &quot;pseudo-refresh&quot; mechanism that re-renders the current view without reloading the browser.</p><ul><li><strong>Implementation:</strong> Briefly switches the <code>key</code> or <code>v-if</code> state of the rendering component via the <code>refreshView</code> method, forcing Vue to destroy and recreate the component.</li><li><strong>Triggering:</strong> Usually triggered by the refresh button on the <code>&lt;LayoutTab&gt;</code> component, and passed to the layout component via the <code>@refreshView</code> event.</li></ul><h3 id="scroll-management-and-back-to-top" tabindex="-1">Scroll Management and Back to Top <a class="header-anchor" href="#scroll-management-and-back-to-top" aria-label="Permalink to &quot;Scroll Management and Back to Top&quot;">​</a></h3><p>The layout component takes over the page&#39;s scrollbar (<code>.tui-container</code>) instead of using the browser&#39;s default <code>body</code> scroll.</p><ul><li><strong>Scroll Listening:</strong> Automatically registers a <code>scroll</code> event listener when the component is mounted.</li><li><strong>Back to Top:</strong> When the scrolling distance exceeds the visible height, a &quot;Back to Top&quot; button automatically appears in the bottom right corner. Clicking it uses <code>scrollTo({ top: 0, behavior: &#39;smooth&#39; })</code> to scroll smoothly to the top.</li><li><strong>Automatic Reset:</strong> Watches for route changes <code>watch(()=&gt;route.path)</code> and automatically resets the scrollbar to 0 when switching pages.</li></ul><h3 id="maximize-mode" tabindex="-1">Maximize Mode <a class="header-anchor" href="#maximize-mode" aria-label="Permalink to &quot;Maximize Mode&quot;">​</a></h3><p>When the user clicks the &quot;Maximize&quot; button on the tab bar, the global state <code>$tState.globalState.maximize</code> becomes <code>true</code>.</p><ul><li><strong>Style Response:</strong> The root element adds the <code>.is-maximize</code> class name, hiding the sidebar (<code>LayoutSider</code>) and tab bar (<code>LayoutTab</code>) via CSS, making the content area occupy the full screen.</li><li><strong>Restore Button:</strong> In maximize mode, a floating &quot;Restore View&quot; button appears in the upper right corner, and clicking it exits the maximize state.</li></ul><h3 id="background-strategy" tabindex="-1">Background Strategy <a class="header-anchor" href="#background-strategy" aria-label="Permalink to &quot;Background Strategy&quot;">​</a></h3><p>The component dynamically calculates background class names based on the global configuration <code>$gBackground</code> and the local property <code>viewBackground</code>:</p><ul><li><code>.tui-view-bg</code>: Displays the globally configured background image (suitable for data dashboards, homepages).</li><li><code>.is-normal-bg</code>: Forces the use of a standard solid color background (suitable for pages requiring high contrast, such as forms and data lists).</li></ul>`,31)])])}const g=i(n,[["render",l]]);export{c as __pageData,g as default};
