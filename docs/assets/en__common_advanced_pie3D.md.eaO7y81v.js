import{_ as r,C as i,c as d,o as l,j as e,G as a,aj as h,a as s,w as c}from"./chunks/framework.DPdjieCD.js";const b=JSON.parse('{"title":"3D Pie Chart","description":"","frontmatter":{},"headers":[],"relativePath":"en/_common/advanced/pie3D.md","filePath":"en/_common/advanced/pie3D.md"}'),p={name:"en/_common/advanced/pie3D.md"};function g(k,t,u,E,y,m){const n=i("AbsTag"),o=i("Warning");return l(),d("div",null,[t[1]||(t[1]=e("h1",{id:"_3d-pie-chart",tabindex:"-1"},[s("3D Pie Chart "),e("a",{class:"header-anchor",href:"#_3d-pie-chart","aria-label":'Permalink to "3D Pie Chart"'},"​")],-1)),a(n,{types:"wasm adv star 1st"}),t[2]||(t[2]=e("p",null,[e("strong",null,"Pie3D"),s(" is a 3D donut/pie chart component built based on SVG and CSS3 transforms.")],-1)),t[3]||(t[3]=e("p",null,[s("Similar to Bar3D, it does not rely on a massive WebGL engine. Instead, it creatively "),e("strong",null,"directly calls the Tui3DPanel component"),s(" as its underlying spatial container. It places the flat donut chart inside the "),e("code",null,"Tui3DPanel"),s(' for 3D tilting and uses dynamic "Stacking Shadows" technology to simulate realistic physical thickness and side lighting.')],-1)),a(o,null,{default:c(()=>[...t[0]||(t[0]=[s("TuiPie3D is one of the 7 advanced components in the library and requires authorization to use.",-1)])]),_:1}),t[4]||(t[4]=h(`<h2 id="core-features" tabindex="-1">Core Features <a class="header-anchor" href="#core-features" aria-label="Permalink to &quot;Core Features&quot;">​</a></h2><ul><li><strong>True 3D Posture:</strong> Encapsulates <code>Tui3DPanel</code> internally, supporting precise control of the spatial top-down view angle via the <code>transform3D</code> property.</li><li><strong>Physical Thickness Simulation:</strong> Automatically calculates the side thickness color of sectors using CSS variables and shadow layers to present a stereoscopic effect.</li><li><strong>High Degree of Freedom Styling:</strong> Supports adjusting the inner radius (switching between ring/pie shapes), corner radius (<code>cornerRadius</code>), and sector explosion gaps (<code>gapSize</code>).</li><li><strong>Rich Interaction:</strong> Supports sector hover floating animation (<code>hoverOffset</code>), click events, and legend interaction.</li><li><strong>Center Dashboard:</strong> Automatically aggregates and displays the total count and title in the center of the ring chart, making it suitable for use as a dashboard.</li></ul><h2 id="basic-usage" tabindex="-1">Basic Usage <a class="header-anchor" href="#basic-usage" aria-label="Permalink to &quot;Basic Usage&quot;">​</a></h2><p>Pie3D requires an array of objects containing <code>label</code> and <code>value</code> as the data source.</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;height: 350px;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">TuiPie3D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      :data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pieData&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      chartTitle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Total Sales&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      unit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Million&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pieData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Electronics&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">45</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Clothing&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Home&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Others&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="principles" tabindex="-1">Principles <a class="header-anchor" href="#principles" aria-label="Permalink to &quot;Principles&quot;">​</a></h2><h3 id="_3d-implementation-mechanism-the-3d-trick" tabindex="-1">3D Implementation Mechanism (The 3D Trick) <a class="header-anchor" href="#_3d-implementation-mechanism-the-3d-trick" aria-label="Permalink to &quot;3D Implementation Mechanism (The 3D Trick)&quot;">​</a></h3><p><strong>Core Principle: TuiPie3D = SVG + Tui3DPanel</strong></p><p>The <code>TuiPie3D</code> component **directly invokes <code>Tui3DPanel**</code> internally. The entire pie chart is essentially a flat SVG graphic wrapped inside the 3D spatial container provided by <code>Tui3DPanel</code>.</p><p>This means:</p><ol><li><strong>Posture Control:</strong> The rotation parameters (such as the top-down angle) you pass via the <code>transform3D</code> property actually act directly on the internal <code>Tui3DPanel</code>.</li><li><strong>Configuration Passthrough:</strong> You can pass low-level parameters like shadow coefficients and thickness corrections to the internal <code>Tui3DPanel</code> via the <code>t3DConfig</code> property.</li></ol><p><strong>Thickness Principle:</strong> The component generates a corresponding shadow layer (<code>t3d-shadow-item</code>) for each sector internally. The color of the side is not a texture map but is achieved by calculating a darkened value of the base color.</p><ul><li><strong>Control Parameter:</strong> <code>thicknessColorRatio</code> (default is 2). The larger the value, the darker the side (shadow face) color relative to the top face color, and the stronger the stereoscopic contrast.</li><li><strong>Code Logic:</strong></li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">path</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;--tui-t3d-thickcolor: darken(slice.color, ratio);&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre></div><h3 id="styling-control" tabindex="-1">Styling Control <a class="header-anchor" href="#styling-control" aria-label="Permalink to &quot;Styling Control&quot;">​</a></h3><ul><li><strong>Inner Radius (<code>innerRadiusPercent</code>):</strong> Controls the thickness of the ring. Setting it to <code>0</code> turns it into a solid pie chart.</li><li><strong>Sector Corner Radius (<code>cornerRadius</code>):</strong> Adds rounded corners to the edges of sectors, making the style softer and more modern.</li><li><strong>Sector Explosion (<code>gapSize</code>):</strong> Sets the physical gap between sectors. It not only creates visual separation but also causes sectors to have a slight outward displacement in 3D space, enhancing the sense of independence.</li></ul><h3 id="center-content" tabindex="-1">Center Content <a class="header-anchor" href="#center-content" aria-label="Permalink to &quot;Center Content&quot;">​</a></h3><p>When <code>innerRadiusPercent &gt; 0</code> (i.e., a ring chart) and <code>showCenterText</code> is <code>true</code>, the component displays summary information in the center.</p><ul><li><strong>Auto Aggregation:</strong> The component automatically calculates the sum of all <code>value</code>s in <code>data</code> and displays it in the center.</li><li><strong>Title and Unit:</strong> Defined via <code>chartTitle</code> and <code>unit</code>.</li><li><strong>Offset Correction:</strong> If the visual center shifts due to 3D perspective, <code>centerTextOffset</code> can be used for fine-tuning.</li></ul><h3 id="_3d-posture-and-lighting" tabindex="-1">3D Posture and Lighting <a class="header-anchor" href="#_3d-posture-and-lighting" aria-label="Permalink to &quot;3D Posture and Lighting&quot;">​</a></h3><p>You can precisely control the spatial angle of the chart via <code>transform3D</code>.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Recommended configuration: 50-degree top-down view</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Directly controls the rotation of the internal Tui3DPanel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  transform3D: { x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, z: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Advanced configuration passed through to the internal Tui3DPanel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  t3DConfig: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    shadowCoeff: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Shadow distance coefficient</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    thicknessCoeff: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.15</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // Thickness stacking coefficient</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h2><h3 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h3><h4 id="data-legend" tabindex="-1">Data &amp; Legend <a class="header-anchor" href="#data-legend" aria-label="Permalink to &quot;Data &amp; Legend&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Property Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><strong>data</strong></td><td>Array</td><td><code>[]</code></td><td>Data source. Format <code>[{ label, value, color? }, ...]</code>.</td></tr><tr><td><strong>useDefaultColors</strong></td><td>Boolean</td><td><code>true</code></td><td>Whether to use the component&#39;s built-in color palette. If a data item has its own <code>color</code>, it takes precedence.</td></tr><tr><td><strong>legendShow</strong></td><td>Boolean</td><td><code>true</code></td><td>Whether to show the legend.</td></tr><tr><td><strong>legendPosition</strong></td><td>String</td><td><code>&#39;bottom&#39;</code></td><td>Legend position: <code>&#39;bottom&#39;</code>, <code>&#39;top&#39;</code>, <code>&#39;left&#39;</code>, <code>&#39;right&#39;</code>.</td></tr><tr><td><strong>chartTitle</strong></td><td>String</td><td><code>&#39;Total&#39;</code></td><td>Title text displayed in the center.</td></tr><tr><td><strong>unit</strong></td><td>String</td><td>-</td><td>Unit displayed in the center.</td></tr><tr><td><strong>showCenterText</strong></td><td>Boolean</td><td><code>true</code></td><td>Whether to show center summary content.</td></tr></tbody></table><h4 id="styling-appearance" tabindex="-1">Styling &amp; Appearance <a class="header-anchor" href="#styling-appearance" aria-label="Permalink to &quot;Styling &amp; Appearance&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Property Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><strong>width</strong></td><td>Number/String</td><td>-</td><td>Container width.</td></tr><tr><td><strong>height</strong></td><td>Number/String</td><td>-</td><td>Container height.</td></tr><tr><td><strong>innerRadiusPercent</strong></td><td>Number</td><td><code>50</code></td><td>Inner radius percentage (0-95). 0 represents a solid pie chart.</td></tr><tr><td><strong>cornerRadius</strong></td><td>Number</td><td><code>0</code></td><td>Sector corner radius.</td></tr><tr><td><strong>gapSize</strong></td><td>Number</td><td><code>10</code></td><td>Gap size between sectors.</td></tr><tr><td><strong>useGradient</strong></td><td>Boolean</td><td><code>false</code></td><td>Whether to enable slight gradient effects for sector colors (enhances texture).</td></tr><tr><td><strong>gradientRatio</strong></td><td>Number</td><td><code>0.3</code></td><td>Gradient intensity coefficient.</td></tr><tr><td><strong>thicknessColorRatio</strong></td><td>Number</td><td><code>2</code></td><td><strong>Thickness Darkening Coefficient</strong>. Controls the darkness of the side shadows.</td></tr></tbody></table><h4 id="_3d-space-interaction" tabindex="-1">3D Space &amp; Interaction <a class="header-anchor" href="#_3d-space-interaction" aria-label="Permalink to &quot;3D Space &amp; Interaction&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Property Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><strong>transform3D</strong></td><td>Object</td><td>-</td><td>3D rotation angles. E.g., <code>{ x: 50, y: 0, z: 0 }</code>. Acts on the internal <code>Tui3DPanel</code>.</td></tr><tr><td><strong>t3DConfig</strong></td><td>Object</td><td>-</td><td>Configuration object passed through to the underlying <code>Tui3DPanel</code> (e.g., shadow coefficients).</td></tr><tr><td><strong>pieOffset</strong></td><td>Number</td><td>-</td><td>Y-axis offset of the entire pie chart within the container.</td></tr><tr><td><strong>centerTextOffset</strong></td><td>Number</td><td>-</td><td>Fine-tuning Y-axis offset for center text.</td></tr><tr><td><strong>hoverOffset</strong></td><td>Number</td><td><code>5</code></td><td>Floating (explosion) distance of a sector on mouse hover.</td></tr><tr><td><strong>animate</strong></td><td>Boolean</td><td><code>true</code></td><td>Whether to enable entrance animation.</td></tr><tr><td><strong>animationDuration</strong></td><td>Number</td><td><code>750</code></td><td>Animation duration (ms).</td></tr><tr><td><strong>resizeObserver</strong></td><td>String</td><td><code>&#39;global&#39;</code></td><td>Dimension listening strategy: <code>&#39;self&#39;</code>, <code>&#39;global&#39;</code>, <code>&#39;none&#39;</code>.</td></tr></tbody></table><h3 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Event Name</th><th>Description</th></tr></thead><tbody><tr><td><strong>sliceClick</strong></td><td>Triggered when a sector is clicked. Callback parameters: <code>(event, sliceData, index)</code>.</td></tr><tr><td><strong>sliceHover</strong></td><td>Triggered when the mouse enters a sector.</td></tr><tr><td><strong>sliceLeave</strong></td><td>Triggered when the mouse leaves a sector.</td></tr></tbody></table><h2 id="potential-issues" tabindex="-1">Potential Issues <a class="header-anchor" href="#potential-issues" aria-label="Permalink to &quot;Potential Issues&quot;">​</a></h2><p>Since Pie3D internally contains the <code>Tui3DPanel</code> component, nesting <code>Tui3DPanel</code> outside of Pie3D may lead to unexpected issues. Detailed testing for this scenario has not been conducted yet, so users are advised to avoid nested usage of <code>Tui3DPanel</code> where possible.</p>`,34))])}const D=r(p,[["render",g]]);export{b as __pageData,D as default};
